import{c as g,o as u,a,u as l,Z as f,w as r,b as t,t as x,i as v,e as y,F as h}from"./app-BJSEvLr2.js";import{_ as w}from"./AdminLayoutSidebar-B_xNyK73.js";import{U as _}from"./UnifiedDesignEditor-CkSjF2wg.js";import{_ as b}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./DropdownLink-BKuK1C9h.js";import"./useTranslations-CytgtFYN.js";import"./StableDesignEditor-qCEntoBL.js";import"./DesignElement-afgWAcdT.js";const k={class:"flex justify-between items-center flex-row-reverse"},C={class:"flex items-center flex-row-reverse"},T={class:"text-right"},S={class:"mt-1 text-sm text-gray-600"},E={__name:"Design",props:{clientTemplate:{type:Object,required:!0}},setup(s){const i=s,d=async n=>{try{console.log("ðŸ”§ Admin-Client: Handling save for client template:",i.clientTemplate.id);const e=await fetch(route("admin.client-templates.update",i.clientTemplate.id),{method:"PUT",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},body:JSON.stringify({design_data:n.designDataString,canvas_size:n.canvasSize,design_notes:n.designNotes})});if(e.ok){const o=await e.json();console.log("âœ… Admin-Client: Design saved successfully",o),o.success&&alert("ØªÙ… Ø­ÙØ¸ ØªØµÙ…ÙŠÙ… Ø§Ù„Ø¹Ù…ÙŠÙ„ Ø¨Ù†Ø¬Ø§Ø­")}else{const o=await e.json();throw new Error(o.message||"Failed to save client design")}}catch(e){console.error("âŒ Admin-Client: Error saving design:",e),alert("Ø®Ø·Ø£ ÙÙŠ Ø­ÙØ¸ ØªØµÙ…ÙŠÙ… Ø§Ù„Ø¹Ù…ÙŠÙ„: "+e.message)}},c=n=>{console.log("ðŸ”§ Admin-Client: Handling update:",n)},m=n=>{console.log("ðŸ”§ Admin-Client: Handling export:",n)},p=()=>{window.history.back()};return(n,e)=>(u(),g(h,null,[a(l(f),{title:"ØªØ¹Ø¯ÙŠÙ„ ØªØµÙ…ÙŠÙ… Ø§Ù„Ø¹Ù…ÙŠÙ„"}),a(w,null,{breadcrumb:r(()=>[a(l(v),{href:n.route("admin.client-templates.index"),class:"text-gray-500 hover:text-gray-700"},{default:r(()=>e[0]||(e[0]=[y(" Ø¨Ø·Ø§Ù‚Ø§Øª Ø§Ù„Ø­Ø±ÙØ§Ø¡ ")])),_:1,__:[0]},8,["href"]),e[1]||(e[1]=t("svg",{class:"w-5 h-5 text-gray-400 mx-2 rotate-180",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)),e[2]||(e[2]=t("span",{class:"text-gray-500"},"ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„ØªØµÙ…ÙŠÙ…",-1))]),header:r(()=>[t("div",k,[t("div",C,[t("button",{onClick:p,class:"ml-4 text-gray-600 hover:text-gray-900 transition-colors duration-200"},e[3]||(e[3]=[t("svg",{class:"w-5 h-5 rotate-180",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),t("div",T,[e[4]||(e[4]=t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"ØªØ¹Ø¯ÙŠÙ„ ØªØµÙ…ÙŠÙ… Ø§Ù„Ø¹Ù…ÙŠÙ„",-1)),t("p",S,x(s.clientTemplate.name||"ØªØµÙ…ÙŠÙ… Ø§Ù„Ø¹Ù…ÙŠÙ„"),1)])])])]),default:r(()=>[a(_,{template:s.clientTemplate,context:"admin-client",user:s.clientTemplate.user,onSave:d,onUpdate:c,onExport:m},null,8,["template","user"])]),_:1})],64))}},H=b(E,[["__scopeId","data-v-40196adb"]]);export{H as default};
