import{r as x,T as w,c as l,o as i,a as y,u as t,Z as H,w as B,b as e,h,d as p,t as d,e as g,j as f,n as m,v,F as S}from"./app-BJSEvLr2.js";import{_ as j}from"./ClientLayout-BKigkkjX.js";import"./DropdownLink-BKuK1C9h.js";import"./useTranslations-CytgtFYN.js";const P={class:"py-12 bg-gray-50 min-h-screen",dir:"rtl"},U={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8"},A={class:"space-y-8"},F={class:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden"},I={class:"p-8"},N={class:"bg-gray-50 rounded-xl p-6 border border-gray-200"},q={class:"flex items-center gap-8 flex-row-reverse"},T={class:"shrink-0"},D=["src","alt"],L={key:1,class:"h-24 w-24 bg-gradient-to-br from-purple-500 to-blue-600 rounded-full flex items-center justify-center border-4 border-purple-200 shadow-lg"},$={class:"text-white font-bold text-2xl"},E={class:"flex-1"},G={class:"flex gap-4 justify-end mb-4 flex-row-reverse"},O={key:0,class:"mt-3 text-sm text-red-600 text-right bg-red-50 p-3 rounded-lg border border-red-200"},R={class:"space-y-4"},J={class:"relative"},Z={key:0,class:"text-sm text-red-600 text-right bg-red-50 p-3 rounded-lg border border-red-200"},K={class:"flex justify-center pt-4"},Q=["disabled"],W={key:0,class:"animate-spin h-5 w-5 mr-3",fill:"none",viewBox:"0 0 24 24"},X={key:1,class:"w-5 h-5 mr-3",fill:"currentColor",viewBox:"0 0 20 20"},Y={class:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden"},ee={class:"p-8"},re={class:"relative"},te={key:0,class:"mt-2 text-sm text-red-600 text-right bg-red-50 p-3 rounded-lg border border-red-200"},oe={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},se={class:"relative"},le={key:0,class:"mt-2 text-sm text-red-600 text-right bg-red-50 p-3 rounded-lg border border-red-200"},ie={class:"relative"},ae={key:0,class:"mt-2 text-sm text-red-600 text-right bg-red-50 p-3 rounded-lg border border-red-200"},de={class:"flex justify-end pt-4"},ne=["disabled"],ue={key:0,class:"animate-spin h-5 w-5 mr-3",fill:"none",viewBox:"0 0 24 24"},pe={key:1,class:"w-5 h-5 mr-3",fill:"currentColor",viewBox:"0 0 20 20"},ve={__name:"Profile",props:{user:Object,stats:{type:Object,default:()=>({})}},setup(u){const _=u,n=x(null),b=x(null),s=w({email:_.user.email||"",image:null,remove_image:!1}),o=w({current_password:"",password:"",password_confirmation:""}),k=c=>{const r=c.target.files[0];if(r){s.image=r;const a=new FileReader;a.onload=M=>{n.value=M.target.result},a.readAsDataURL(r)}},z=()=>{s.image=null,s.remove_image=!0,n.value=null,b.value&&(b.value.value=""),s.patch(route("client.profile.update"),{preserveScroll:!0,onSuccess:()=>{s.remove_image=!1}})},V=()=>{s.image?s.transform(c=>({...c,_method:"PATCH"})).post(route("client.profile.update"),{preserveScroll:!0,onSuccess:()=>{n.value=null}}):s.patch(route("client.profile.update"),{preserveScroll:!0,onSuccess:()=>{n.value=null}})},C=()=>{o.put(route("client.password.update"),{preserveScroll:!0,onSuccess:()=>{o.reset()},onError:()=>{o.errors.password&&o.reset("password","password_confirmation"),o.errors.current_password&&o.reset("current_password")}})};return(c,r)=>(i(),l(S,null,[y(t(H),{title:"الملف الشخصي - سامقة"}),y(j,null,{default:B(()=>[e("div",P,[e("div",U,[r[23]||(r[23]=e("div",{class:"mb-8 text-right"},[e("h1",{class:"text-3xl font-bold text-gray-900 mb-2 text-right"},"الملف الشخصي"),e("p",{class:"text-gray-600 text-right"},"إدارة معلوماتك الشخصية وإعدادات حسابك")],-1)),e("div",A,[e("div",F,[r[13]||(r[13]=e("div",{class:"px-8 py-6 bg-gradient-to-l from-purple-600 via-blue-600 to-indigo-700"},[e("div",{class:"text-center"},[e("h3",{class:"text-xl font-bold text-white mb-2"}," المعلومات الشخصية "),e("p",{class:"text-purple-100 text-sm"},"تحديث معلوماتك الشخصية وصورة الملف الشخصي")])],-1)),e("div",I,[e("form",{onSubmit:h(V,["prevent"]),class:"space-y-8"},[e("div",N,[r[8]||(r[8]=e("label",{class:"block text-lg font-bold text-gray-900 mb-4 text-right"}," صورة الملف الشخصي ",-1)),e("div",q,[e("div",T,[n.value||u.user.image?(i(),l("img",{key:0,src:n.value||u.user.image,alt:u.user.email,class:"h-24 w-24 object-cover rounded-full border-4 border-purple-200 shadow-lg"},null,8,D)):(i(),l("div",L,[e("span",$,d(u.user.email.charAt(0).toUpperCase()),1)]))]),e("div",E,[e("input",{ref_key:"imageInput",ref:b,type:"file",accept:"image/*",onChange:k,class:"hidden"},null,544),e("div",G,[e("button",{type:"button",onClick:r[0]||(r[0]=a=>c.$refs.imageInput.click()),class:"inline-flex items-center px-6 py-3 bg-blue-600 border border-transparent rounded-lg font-semibold text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200 shadow-md"},r[5]||(r[5]=[e("svg",{class:"w-5 h-5 ml-2",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M4 3a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V5a2 2 0 00-2-2H4zm12 12H4l4-8 3 6 2-4 3 6z","clip-rule":"evenodd"})],-1),g(" تغيير الصورة ")])),u.user.image||n.value?(i(),l("button",{key:0,type:"button",onClick:z,class:"inline-flex items-center px-6 py-3 bg-red-600 border border-transparent rounded-lg font-semibold text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-all duration-200 shadow-md"},r[6]||(r[6]=[e("svg",{class:"w-5 h-5 ml-2",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M9 2a1 1 0 000 2h2a1 1 0 100-2H9z","clip-rule":"evenodd"}),e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8 7a1 1 0 012 0v4a1 1 0 11-2 0V7zM12 7a1 1 0 012 0v4a1 1 0 11-2 0V7z","clip-rule":"evenodd"})],-1),g(" إزالة الصورة ")]))):p("",!0)]),r[7]||(r[7]=e("p",{class:"text-sm text-gray-500 text-right bg-blue-50 p-3 rounded-lg border border-blue-200"},[e("svg",{class:"w-4 h-4 inline ml-1 text-blue-600",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule":"evenodd"})]),g(" يُفضل استخدام صور بصيغة JPG أو PNG. الحد الأقصى للحجم 2 ميجابايت. ")],-1))])]),t(s).errors.image?(i(),l("div",O,d(t(s).errors.image),1)):p("",!0)]),e("div",R,[r[10]||(r[10]=e("div",{style:{"text-align":"right !important"}},[e("label",{for:"email",class:"text-lg font-bold text-gray-900"}," البريد الإلكتروني ")],-1)),e("div",J,[f(e("input",{id:"email",type:"email","onUpdate:modelValue":r[1]||(r[1]=a=>t(s).email=a),required:"",class:m(["w-full border-2 border-gray-300 rounded-xl px-6 py-4 pr-14 text-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-200 text-right bg-gray-50",{"border-red-500 bg-red-50":t(s).errors.email}]),style:{"text-align":"right !important",direction:"rtl !important"},placeholder:"أدخل عنوان بريدك الإلكتروني",dir:"rtl"},null,2),[[v,t(s).email]]),r[9]||(r[9]=e("div",{class:"absolute left-4 top-1/2 transform -translate-y-1/2"},[e("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),e("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})],-1))]),t(s).errors.email?(i(),l("div",Z,d(t(s).errors.email),1)):p("",!0)]),e("div",K,[e("button",{type:"submit",disabled:t(s).processing,class:"inline-flex items-center px-8 py-4 bg-gradient-to-l from-purple-600 to-blue-600 border border-transparent rounded-xl font-bold text-white hover:from-purple-700 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 transition-all duration-200 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed"},[t(s).processing?(i(),l("svg",W,r[11]||(r[11]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):(i(),l("svg",X,r[12]||(r[12]=[e("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1)]))),g(" "+d(t(s).processing?"جاري الحفظ...":"حفظ التغييرات"),1)],8,Q)])],32)])]),e("div",Y,[r[22]||(r[22]=e("div",{class:"px-8 py-6 bg-gradient-to-l from-green-600 via-emerald-600 to-teal-700"},[e("div",{class:"text-center"},[e("h3",{class:"text-xl font-bold text-white mb-2"}," تغيير كلمة المرور "),e("p",{class:"text-green-100 text-sm"},"تأكد من أن حسابك يستخدم كلمة مرور قوية للبقاء آمناً")])],-1)),e("div",ee,[e("form",{onSubmit:h(C,["prevent"]),class:"space-y-6"},[e("div",null,[r[15]||(r[15]=e("div",{class:"mb-3",style:{"text-align":"right !important"}},[e("label",{for:"current_password",class:"text-lg font-bold text-gray-900",style:{"text-align":"right !important",display:"block"}}," كلمة المرور الحالية ")],-1)),e("div",re,[f(e("input",{id:"current_password",type:"password","onUpdate:modelValue":r[2]||(r[2]=a=>t(o).current_password=a),required:"",class:m(["w-full border-2 border-gray-300 rounded-xl px-6 py-4 pr-14 text-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-200 bg-gray-50",{"border-red-500 bg-red-50":t(o).errors.current_password}]),placeholder:"أدخل كلمة المرور الحالية",dir:"rtl",style:{"text-align":"right !important",direction:"rtl !important"}},null,2),[[v,t(o).current_password]]),r[14]||(r[14]=e("div",{class:"absolute left-4 top-1/2 transform -translate-y-1/2"},[e("svg",{class:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule":"evenodd"})])],-1))]),t(o).errors.current_password?(i(),l("div",te,d(t(o).errors.current_password),1)):p("",!0)]),e("div",oe,[e("div",null,[r[17]||(r[17]=e("div",{class:"mb-3",style:{"text-align":"right !important"}},[e("label",{for:"password",class:"text-lg font-bold text-gray-900",style:{"text-align":"right !important",display:"block"}}," كلمة المرور الجديدة ")],-1)),e("div",se,[f(e("input",{id:"password",type:"password","onUpdate:modelValue":r[3]||(r[3]=a=>t(o).password=a),required:"",class:m(["w-full border-2 border-gray-300 rounded-xl px-6 py-4 pr-14 text-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-200 bg-gray-50",{"border-red-500 bg-red-50":t(o).errors.password}]),placeholder:"أدخل كلمة المرور الجديدة",dir:"rtl",style:{"text-align":"right !important",direction:"rtl !important"}},null,2),[[v,t(o).password]]),r[16]||(r[16]=e("div",{class:"absolute left-4 top-1/2 transform -translate-y-1/2"},[e("svg",{class:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule":"evenodd"})])],-1))]),t(o).errors.password?(i(),l("div",le,d(t(o).errors.password),1)):p("",!0)]),e("div",null,[r[19]||(r[19]=e("div",{class:"mb-3",style:{"text-align":"right !important"}},[e("label",{for:"password_confirmation",class:"text-lg font-bold text-gray-900",style:{"text-align":"right !important",display:"block"}}," تأكيد كلمة المرور الجديدة ")],-1)),e("div",ie,[f(e("input",{id:"password_confirmation",type:"password","onUpdate:modelValue":r[4]||(r[4]=a=>t(o).password_confirmation=a),required:"",class:m(["w-full border-2 border-gray-300 rounded-xl px-6 py-4 pr-14 text-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 transition-all duration-200 bg-gray-50",{"border-red-500 bg-red-50":t(o).errors.password_confirmation}]),placeholder:"أعد إدخال كلمة المرور الجديدة",dir:"rtl",style:{"text-align":"right !important",direction:"rtl !important"}},null,2),[[v,t(o).password_confirmation]]),r[18]||(r[18]=e("div",{class:"absolute left-4 top-1/2 transform -translate-y-1/2"},[e("svg",{class:"w-6 h-6 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule":"evenodd"})])],-1))]),t(o).errors.password_confirmation?(i(),l("div",ae,d(t(o).errors.password_confirmation),1)):p("",!0)])]),e("div",de,[e("button",{type:"submit",disabled:t(o).processing,class:"inline-flex items-center px-8 py-4 bg-gradient-to-l from-green-600 to-emerald-600 border border-transparent rounded-xl font-bold text-white hover:from-green-700 hover:to-emerald-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-all duration-200 shadow-lg disabled:opacity-50 disabled:cursor-not-allowed"},[t(o).processing?(i(),l("svg",ue,r[20]||(r[20]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):(i(),l("svg",pe,r[21]||(r[21]=[e("path",{"fill-rule":"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule":"evenodd"},null,-1)]))),g(" "+d(t(o).processing?"جاري التحديث...":"تحديث كلمة المرور"),1)],8,ne)])],32)])])])])])]),_:1})],64))}};export{ve as default};
