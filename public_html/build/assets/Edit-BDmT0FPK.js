import{Q as S,r as _,T as b,c as n,o as l,a as y,u as s,Z as B,w as g,b as t,h as k,j as u,d,v as c,t as m,e as v,bR as j,F as U,s as F}from"./app-BJSEvLr2.js";import{_ as H}from"./AdminLayoutSidebar-B_xNyK73.js";import{_ as E}from"./Modal-BAMdrlUW.js";import"./DropdownLink-BKuK1C9h.js";import"./useTranslations-CytgtFYN.js";const D={class:"py-12",dir:"rtl"},N={class:"max-w-7xl mx-auto sm:px-6 lg:px-8 space-y-6"},T={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},A={class:"p-6"},I={class:"grid grid-cols-1 gap-6"},K={key:0,class:"mt-2 text-sm text-red-600 text-right"},P={class:"flex justify-center"},$=["disabled"],q={key:0,class:"animate-spin h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24"},O={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},Q={class:"p-6"},R={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Z={class:"md:col-span-2"},G={key:0,class:"mt-2 text-sm text-red-600 text-right"},J={key:0,class:"mt-2 text-sm text-red-600 text-right"},L={key:0,class:"mt-2 text-sm text-red-600 text-right"},W={class:"flex justify-center"},X=["disabled"],Y={key:0,class:"animate-spin h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24"},tt={class:"p-6",dir:"rtl"},et={class:"mt-6"},st={key:0,class:"mt-2 text-sm text-red-600 text-right"},rt={class:"mt-6 flex justify-end space-x-3 space-x-reverse"},ot=["disabled"],it={key:0,class:"animate-spin h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24"},ct={__name:"Edit",props:{mustVerifyEmail:{type:Boolean},status:{type:String},locale:{type:String,default:"en"},translations:{type:Object,default:()=>({})}},setup(nt){const C=S(),f=_(!1),x=_(null),a=b({email:C.props.auth.user.email||""}),r=b({current_password:"",password:"",password_confirmation:""}),o=b({password:""}),V=()=>{a.patch(route("profile.update"),{preserveScroll:!0})},z=()=>{r.put(route("password.update"),{preserveScroll:!0,onSuccess:()=>{r.reset()},onError:()=>{r.errors.password&&r.reset("password","password_confirmation"),r.errors.current_password&&r.reset("current_password")}})},M=()=>{f.value=!0,F(()=>{var p;return(p=x.value)==null?void 0:p.focus()})},h=()=>{o.delete(route("profile.destroy"),{preserveScroll:!0,onSuccess:()=>w(),onError:()=>{var p;return(p=x.value)==null?void 0:p.focus()},onFinish:()=>o.reset()})},w=()=>{f.value=!1,o.reset()};return(p,e)=>(l(),n(U,null,[y(s(B),{title:"الملف الشخصي - سامقة"}),y(H,null,{breadcrumb:g(()=>e[5]||(e[5]=[t("span",{class:"text-gray-500"},"الملف الشخصي",-1)])),header:g(()=>e[6]||(e[6]=[t("div",{class:"flex justify-between items-center flex-row-reverse"},[t("div",{class:"text-right"},[t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight text-right"},"الملف الشخصي"),t("p",{class:"mt-1 text-sm text-gray-600 text-right"},"إدارة إعدادات حسابك وتفضيلاتك")])],-1)])),default:g(()=>[t("div",D,[t("div",N,[t("div",T,[e[10]||(e[10]=t("div",{class:"bg-gradient-to-r from-blue-500 to-purple-600 px-6 py-4 text-center"},[t("h3",{class:"text-lg font-semibold text-white"},"معلومات الملف الشخصي"),t("p",{class:"text-blue-100 text-sm"},"تحديث معلومات ملفك الشخصي وعنوان البريد الإلكتروني")],-1)),t("div",A,[t("form",{onSubmit:k(V,["prevent"]),class:"space-y-6"},[t("div",I,[t("div",null,[e[7]||(e[7]=t("div",{class:"mb-3",style:{"text-align":"right !important"}},[t("label",{for:"email",class:"text-sm font-medium text-gray-700",style:{"text-align":"right !important",display:"block"}}," البريد الإلكتروني ")],-1)),u(t("input",{id:"email","onUpdate:modelValue":e[0]||(e[0]=i=>s(a).email=i),type:"email",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",style:{"text-align":"right !important",direction:"rtl !important"},required:""},null,512),[[c,s(a).email]]),s(a).errors.email?(l(),n("div",K,m(s(a).errors.email),1)):d("",!0)])]),t("div",P,[t("button",{type:"submit",disabled:s(a).processing,class:"inline-flex items-center px-4 py-2 bg-indigo-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-indigo-700 focus:bg-indigo-700 active:bg-indigo-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition ease-in-out duration-150 disabled:opacity-50"},[s(a).processing?(l(),n("svg",q,e[8]||(e[8]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 818-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):d("",!0),e[9]||(e[9]=v(" حفظ التغييرات "))],8,$)])],32)])]),t("div",O,[e[16]||(e[16]=t("div",{class:"bg-gradient-to-r from-green-500 to-teal-600 px-6 py-4 text-center"},[t("h3",{class:"text-lg font-semibold text-white"},"تحديث كلمة المرور"),t("p",{class:"text-green-100 text-sm"},"تأكد من أن حسابك يستخدم كلمة مرور طويلة وعشوائية للبقاء آمناً")],-1)),t("div",Q,[t("form",{onSubmit:k(z,["prevent"]),class:"space-y-6"},[t("div",R,[t("div",Z,[e[11]||(e[11]=t("div",{class:"mb-3",style:{"text-align":"right !important"}},[t("label",{for:"current_password",class:"text-sm font-medium text-gray-700",style:{"text-align":"right !important",display:"block"}}," كلمة المرور الحالية ")],-1)),u(t("input",{id:"current_password","onUpdate:modelValue":e[1]||(e[1]=i=>s(r).current_password=i),type:"password",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",style:{"text-align":"right !important",direction:"rtl !important"},autocomplete:"current-password",placeholder:"أدخل كلمة المرور الحالية"},null,512),[[c,s(r).current_password]]),s(r).errors.current_password?(l(),n("div",G,m(s(r).errors.current_password),1)):d("",!0)]),t("div",null,[e[12]||(e[12]=t("div",{class:"mb-3",style:{"text-align":"right !important"}},[t("label",{for:"password",class:"text-sm font-medium text-gray-700",style:{"text-align":"right !important",display:"block"}}," كلمة المرور الجديدة ")],-1)),u(t("input",{id:"password","onUpdate:modelValue":e[2]||(e[2]=i=>s(r).password=i),type:"password",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",style:{"text-align":"right !important",direction:"rtl !important"},autocomplete:"new-password",placeholder:"أدخل كلمة المرور الجديدة"},null,512),[[c,s(r).password]]),s(r).errors.password?(l(),n("div",J,m(s(r).errors.password),1)):d("",!0)]),t("div",null,[e[13]||(e[13]=t("div",{class:"mb-3",style:{"text-align":"right !important"}},[t("label",{for:"password_confirmation",class:"text-sm font-medium text-gray-700",style:{"text-align":"right !important",display:"block"}}," تأكيد كلمة المرور الجديدة ")],-1)),u(t("input",{id:"password_confirmation","onUpdate:modelValue":e[3]||(e[3]=i=>s(r).password_confirmation=i),type:"password",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",style:{"text-align":"right !important",direction:"rtl !important"},autocomplete:"new-password",placeholder:"أعد إدخال كلمة المرور الجديدة"},null,512),[[c,s(r).password_confirmation]]),s(r).errors.password_confirmation?(l(),n("div",L,m(s(r).errors.password_confirmation),1)):d("",!0)])]),t("div",W,[t("button",{type:"submit",disabled:s(r).processing,class:"inline-flex items-center px-4 py-2 bg-green-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-700 focus:bg-green-700 active:bg-green-900 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition ease-in-out duration-150 disabled:opacity-50"},[s(r).processing?(l(),n("svg",Y,e[14]||(e[14]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 818-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):d("",!0),e[15]||(e[15]=v(" تحديث كلمة المرور "))],8,X)])],32)])]),t("div",{class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},[e[19]||(e[19]=t("div",{class:"bg-gradient-to-r from-red-500 to-pink-600 px-6 py-4 text-center"},[t("h3",{class:"text-lg font-semibold text-white"},"حذف الحساب"),t("p",{class:"text-red-100 text-sm"},"بمجرد حذف حسابك، سيتم حذف جميع موارده وبياناته نهائياً")],-1)),t("div",{class:"p-6"},[e[18]||(e[18]=t("div",{class:"bg-red-50 border border-red-200 rounded-md p-4 mb-6"},[t("div",{class:"flex flex-row-reverse"},[t("div",{class:"flex-shrink-0"},[t("svg",{class:"h-5 w-5 text-red-400",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule":"evenodd"})])]),t("div",{class:"mr-3 text-right"},[t("h3",{class:"text-sm font-medium text-red-800 text-right"}," تحذير "),t("div",{class:"mt-2 text-sm text-red-700 text-right"},[t("p",null,"بمجرد حذف حسابك، سيتم حذف جميع موارده وبياناته نهائياً")])])])],-1)),t("div",{class:"flex justify-center"},[t("button",{onClick:M,type:"button",class:"inline-flex items-center px-4 py-2 bg-red-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-red-700 focus:bg-red-700 active:bg-red-900 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition ease-in-out duration-150"},e[17]||(e[17]=[t("span",{class:"mr-2"},"حذف الحساب",-1),t("svg",{class:"w-4 h-4",fill:"currentColor",viewBox:"0 0 24 24"},[t("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})],-1)]))])])])])]),y(E,{show:f.value,onClose:w},{default:g(()=>[t("div",tt,[e[23]||(e[23]=t("h2",{class:"text-lg font-medium text-gray-900 text-right"}," هل أنت متأكد من حذف حسابك؟ ",-1)),e[24]||(e[24]=t("p",{class:"mt-1 text-sm text-gray-600 text-right"}," بمجرد حذف حس��بك، سيتم حذف جميع موارده وبياناته نهائياً. يرجى إدخال كلمة المرور لتأكيد رغبتك في حذف حسابك نهائياً. ",-1)),t("div",et,[e[20]||(e[20]=t("label",{for:"password",class:"sr-only"},"كلمة المرور",-1)),u(t("input",{id:"password",ref_key:"passwordInput",ref:x,"onUpdate:modelValue":e[4]||(e[4]=i=>s(o).password=i),type:"password",class:"mt-1 block w-3/4 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",placeholder:"كلمة المرور",onKeyup:j(h,["enter"]),dir:"rtl",style:{"text-align":"right !important",direction:"rtl !important"}},null,544),[[c,s(o).password]]),s(o).errors.password?(l(),n("div",st,m(s(o).errors.password),1)):d("",!0)]),t("div",rt,[t("button",{onClick:w,type:"button",class:"bg-white py-2 px-4 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}," إلغاء "),t("button",{onClick:h,type:"button",disabled:s(o).processing,class:"inline-flex items-center justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50"},[s(o).processing?(l(),n("svg",it,e[21]||(e[21]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 818-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):d("",!0),e[22]||(e[22]=v(" حذف الحساب "))],8,ot)])])]),_:1},8,["show"])]),_:1})],64))}};export{ct as default};
