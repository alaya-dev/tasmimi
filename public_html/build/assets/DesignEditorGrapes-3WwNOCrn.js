import{r as l,y as Je,p as Ge,s as H,z as Xe,c as d,o as c,a as Ke,b as t,w as Ve,u as J,Z as Ye,d as b,t as p,n as u,e as S,A as G,F as D,f as X,j as K,v as ge,q as Ze,k as be}from"./app-BJSEvLr2.js";import We from"./grapes-D3xufpkI.js";/* empty css                   */import{_ as Qe}from"./_plugin-vue_export-helper-DlAUqK2U.js";const et={class:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900",dir:"rtl"},tt={class:"relative bg-white/10 backdrop-blur-md border-b border-white/20 shadow-2xl"},ot={class:"relative max-w-7xl mx-auto px-6 py-4"},rt={class:"flex justify-between items-center"},at={class:"text-white"},st={class:"flex items-center space-x-3 space-x-reverse mb-2"},it={class:"text-purple-200 text-sm"},nt={class:"flex items-center space-x-4 space-x-reverse text-sm"},lt={class:"flex items-center space-x-2 space-x-reverse"},dt={class:"text-white/80"},ct={key:0,class:"text-white/60"},ut={class:"flex items-center space-x-4 space-x-reverse"},ft={class:"flex items-center bg-white/20 backdrop-blur-sm rounded-xl p-1 border border-white/30 shadow-lg"},pt=["disabled"],gt=["disabled"],bt={class:"flex items-center bg-white/20 backdrop-blur-sm rounded-xl p-1 border border-white/30 shadow-lg"},xt={class:"flex items-center space-x-3 space-x-reverse"},mt=["disabled"],vt={class:"relative",style:{"z-index":"9999"}},yt={key:0,class:"absolute left-0 top-full mt-2 w-96 bg-white rounded-3xl shadow-2xl border-2 border-purple-200 overflow-hidden animate__animated animate__fadeInUp animate__faster",style:{"z-index":"10000","max-height":"80vh","overflow-y":"auto"}},ht={class:"bg-gradient-to-r from-purple-600 to-pink-600 p-4 text-white"},wt={class:"flex items-center justify-between"},kt={class:"p-6 border-b border-gray-100"},Ct={class:"space-y-3"},_t={class:"p-6"},jt={class:"space-y-4"},zt={class:"flex h-screen"},St={class:"w-80 bg-white/95 backdrop-blur-md border-l border-white/20 shadow-2xl overflow-hidden"},At={class:"flex border-b border-gray-200 bg-gray-50"},Mt=["onClick"],Tt={class:"flex-1 overflow-y-auto"},$t={key:0,class:"p-4"},qt={key:1,class:"p-4"},Et={key:0,class:"text-center py-8 text-gray-500"},Dt={key:2,class:"p-4"},Lt={key:0,class:"text-center py-8 text-gray-500"},Pt={key:3,class:"p-4"},Ot={key:0,class:"text-center py-8 text-gray-500"},Bt={class:"mb-6 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border border-blue-200"},Nt={class:"grid grid-cols-2 gap-2 mb-4"},Ut={class:"mb-4"},It={class:"grid grid-cols-3 gap-1"},Rt={key:4,class:"p-4"},Ft={class:"space-y-4"},Ht={class:"bg-gradient-to-r from-purple-100 to-blue-100 p-4 rounded-xl border border-purple-200"},Jt=["disabled"],Gt={class:"space-y-2"},Xt=["onClick"],Kt={class:"flex items-center space-x-3 space-x-reverse"},Vt={class:"flex-1"},Yt={class:"font-medium text-gray-800"},Zt={class:"text-xs text-gray-500"},Wt={class:"flex-1 relative bg-gray-100"},Qt={class:"absolute top-4 right-4 z-20 flex items-center space-x-2 space-x-reverse"},eo={class:"bg-white/90 backdrop-blur-sm rounded-xl p-2 shadow-lg border border-white/20 flex items-center space-x-1 space-x-reverse"},to={class:"text-sm font-medium text-gray-700 px-2"},oo={class:"fixed top-4 left-4 z-50 space-y-2"},ro={class:"flex items-center space-x-3 space-x-reverse"},ao=["onClick"],so={key:0,class:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50"},io={class:"bg-white/95 backdrop-blur-md rounded-2xl p-8 text-center shadow-2xl border border-white/20 max-w-md mx-4"},no={class:"text-xl font-bold text-gray-800 mb-2"},lo={class:"text-gray-600 mb-4"},co={class:"w-full bg-gray-200 rounded-full h-2"},uo={class:"text-sm text-gray-500 mt-2"},fo={key:1,class:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50"},po={class:"bg-white rounded-2xl p-8 max-w-2xl mx-4 shadow-2xl border border-white/20"},go={class:"flex items-center justify-between mb-6"},bo={class:"space-y-4"},xo={class:"grid grid-cols-2 gap-4"},mo={class:"flex justify-end space-x-3 space-x-reverse pt-4"},vo=["disabled"],yo={key:2,class:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50"},ho={class:"bg-white rounded-2xl p-8 max-w-lg mx-4 shadow-2xl border border-white/20"},wo={class:"flex items-center justify-between mb-6"},ko={class:"space-y-3"},Co={class:"text-gray-700"},_o={class:"px-3 py-1 bg-gray-100 rounded-lg text-sm font-mono"},jo={__name:"DesignEditorGrapes",props:{template:Object,locale:String,translations:Object,errors:Object},setup(re){const x=re;let a=null;const _=l(!1),V=l(!1),L=l(""),Y=l(""),A=l(0),m=l(!1),M=l(!1),ae=l(!1),g=l("blocks"),P=l("desktop"),v=l(1),O=l(!1),B=l(!1),T=l(!1),$=l(!1),N=l(!1),U=l(!0),j=l(null),I=l(null),h=l(null),se=l(!1),ie=l(!1),y=l(""),Z=l("card"),W=l("warm"),k=l(!1),R=l([]);let xe=0;const me=l([{id:"blocks",name:"العناصر",icon:"fas fa-cubes"},{id:"layers",name:"الطبقات",icon:"fas fa-layer-group"},{id:"styles",name:"الأنماط",icon:"fas fa-paint-brush"},{id:"properties",name:"الخصائص",icon:"fas fa-cog"},{id:"ai",name:"الذكاء الاصطناعي",icon:"fas fa-robot"}]),ve=l([{id:"wedding",name:"بطاقة زواج رومانسية",description:"تصميم أنيق للأعراس",prompt:"أنشئ بطاقة زواج أنيقة باللون الوردي والذهبي مع زخارف رومانسية وقلوب",icon:"fas fa-heart",color:"bg-pink-500"},{id:"business",name:"بطاقة عمل احترافية",description:"تصميم مهني للأعمال",prompt:"أنشئ بطاقة عمل احترافية بألوان زرقاء وبيضاء مع تصميم نظيف وحديث",icon:"fas fa-briefcase",color:"bg-blue-500"},{id:"event",name:"دعوة حدث",description:"دعوة لمناسبة خاصة",prompt:"أنشئ دعوة حدث جذابة بألوان زاهية ونصوص أنيقة",icon:"fas fa-calendar",color:"bg-green-500"}]),ye=l([{key:"Ctrl + S",description:"حفظ التصميم"},{key:"Ctrl + Z",description:"تراجع"},{key:"Ctrl + Y",description:"إعادة"},{key:"Ctrl + D",description:"نسخ العنصر"},{key:"Delete",description:"حذف العنصر"},{key:"Ctrl + A",description:"تحديد الكل"},{key:"Ctrl + +",description:"تكبير"},{key:"Ctrl + -",description:"تصغير"},{key:"F11",description:"ملء الشاشة"},{key:"?",description:"إظهار الاختصارات"}]),n=(r,e="success",o=5e3)=>{const i=++xe;return R.value.push({id:i,message:r,type:e,timestamp:new Date}),setTimeout(()=>{ne(i)},o),i},ne=r=>{const e=R.value.findIndex(o=>o.id===r);e>-1&&R.value.splice(e,1)},q=(r,e,o=0)=>{V.value=!0,Y.value=r,L.value=e,A.value=o},f=(r,e=null)=>{A.value=r,e&&(L.value=e)},C=()=>{V.value=!1,Y.value="",L.value="",A.value=0},he=r=>r.toLocaleTimeString("ar-SA",{hour:"2-digit",minute:"2-digit"}),we=()=>{if(a=We.init({container:"#gjs",height:"100vh",width:"auto",storageManager:!1,panels:{defaults:[{id:"basic-actions",el:".panel__basic-actions",buttons:[{id:"visibility",active:!0,className:"btn-toggle-borders",label:'<i class="fa fa-clone"></i>',command:"sw-visibility"},{id:"export",className:"btn-open-export",label:'<i class="fa fa-code"></i>',command:"export-template",context:"export-template"},{id:"show-json",className:"btn-show-json",label:'<i class="fa fa-file-code-o"></i>',context:"show-json",command(e){e.Modal.setTitle("Components JSON").setContent(`<textarea style="width:100%; height: 250px;">
                                        ${JSON.stringify(e.getComponents())}
                                    </textarea>`).open()}}]}]},blockManager:{appendTo:".blocks-container",blocks:[{id:"text",label:"نص",category:"أساسي",content:'<div data-gjs-type="text" data-gjs-editable="true" style="padding: 10px; font-family: Cairo, Arial, sans-serif;">أدخل النص هنا</div>'},{id:"heading",label:"عنوان",category:"أساسي",content:'<h1 data-gjs-type="text" data-gjs-editable="true" style="font-family: Cairo, Arial, sans-serif; color: #333; margin: 10px 0;">عنوان رئيسي</h1>'},{id:"paragraph",label:"فقرة",category:"أساسي",content:'<p data-gjs-type="text" data-gjs-editable="true" style="font-family: Cairo, Arial, sans-serif; line-height: 1.6; margin: 10px 0;">هذه فقرة نصية يمكن تحريرها</p>'},{id:"image",label:"صورة",category:"أساسي",content:'<img src="https://via.placeholder.com/300x200?text=صورة" style="max-width: 100%; height: auto;" alt="صورة">'},{id:"button",label:"زر",category:"أساسي",content:'<button data-gjs-type="text" data-gjs-editable="true" style="background: #3b82f6; color: white; padding: 12px 24px; border: none; border-radius: 6px; font-family: Cairo, Arial, sans-serif; cursor: pointer;">انقر هنا</button>'},{id:"wedding-card",label:"بطاقة زواج",category:"مناسبات",content:`
                        <div style="background: linear-gradient(135deg, #fdf2f8 0%, #fce7f3 100%); padding: 30px; text-align: center; border-radius: 15px; box-shadow: 0 8px 25px rgba(0,0,0,0.1);">
                            <div style="color: #ec4899; font-size: 40px; margin-bottom: 15px;">💕</div>
                            <h2 data-gjs-editable="true" style="color: #be185d; font-size: 28px; margin-bottom: 15px; font-family: Cairo, Arial, sans-serif;">مبارك الزواج</h2>
                            <p data-gjs-editable="true" style="color: #9d174d; font-size: 20px; margin-bottom: 20px; font-family: Cairo, Arial, sans-serif;">اسم العريس & اسم العروس</p>
                            <p data-gjs-editable="true" style="color: #7c2d12; font-size: 16px; font-family: Cairo, Arial, sans-serif;">التاريخ: __ / __ / ____</p>
                        </div>
                    `},{id:"ramadan-card",label:"بطاقة رمضان",category:"مناسبات",content:`
                        <div style="background: linear-gradient(135deg, #064e3b 0%, #065f46 100%); padding: 30px; text-align: center; border-radius: 15px; color: white;">
                            <div style="color: #fbbf24; font-size: 40px; margin-bottom: 15px;">🌙</div>
                            <h2 data-gjs-editable="true" style="color: #fbbf24; font-size: 28px; margin-bottom: 15px; font-family: Cairo, Arial, sans-serif;">رمضان مبارك</h2>
                            <p data-gjs-editable="true" style="color: #d1fae5; font-size: 18px; font-family: Cairo, Arial, sans-serif;">كل عام وأنتم بخير</p>
                        </div>
                    `},{id:"graduation-card",label:"بطاقة تخرج",category:"مناسبات",content:`
                        <div style="background: linear-gradient(135deg, #1e3a8a 0%, #3730a3 100%); padding: 30px; text-align: center; border-radius: 15px; color: white;">
                            <div style="color: #fbbf24; font-size: 40px; margin-bottom: 15px;">🎓</div>
                            <h2 data-gjs-editable="true" style="color: #fbbf24; font-size: 28px; margin-bottom: 15px; font-family: Cairo, Arial, sans-serif;">مبروك التخرج</h2>
                            <p data-gjs-editable="true" style="color: #e0e7ff; font-size: 20px; margin-bottom: 10px; font-family: Cairo, Arial, sans-serif;">اسم الخريج</p>
                            <p data-gjs-editable="true" style="color: #c7d2fe; font-size: 16px; font-family: Cairo, Arial, sans-serif;">التخصص: _____________</p>
                        </div>
                    `},{id:"container",label:"حاوي",category:"تخطيط",content:'<div style="padding: 20px; border: 2px dashed #ccc; min-height: 100px;">اسحب العناصر هنا</div>'},{id:"row",label:"صف",category:"تخطيط",content:'<div style="display: flex; gap: 10px; padding: 10px;"><div style="flex: 1; padding: 20px; background: #f3f4f6; text-align: center;">عمود 1</div><div style="flex: 1; padding: 20px; background: #f3f4f6; text-align: center;">عمود 2</div></div>'},{id:"background-section",label:"قسم بخلفية",category:"خلفيات",content:`
                        <section style="
                            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                            padding: 60px 20px;
                            text-align: center;
                            min-height: 300px;
                            display: flex;
                            flex-direction: column;
                            justify-content: center;
                            align-items: center;
                            position: relative;
                            border-radius: 12px;
                            margin: 20px 0;
                        ">
                            <h2 style="color: white; font-family: Cairo, Arial, sans-serif; font-size: 2.5em; margin-bottom: 20px;" data-gjs-editable="true">عنوان القسم</h2>
                            <p style="color: rgba(255,255,255,0.9); font-family: Cairo, Arial, sans-serif; font-size: 1.2em; max-width: 600px;" data-gjs-editable="true">وصف القسم يمكن تحريره وتخصيصه</p>
                        </section>
                    `},{id:"image-background",label:"خلفية صورة",category:"خلفيات",content:`
                        <div style="
                            background-image: url('https://images.unsplash.com/photo-1557804506-669a67965ba0?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80');
                            background-size: cover;
                            background-position: center;
                            background-repeat: no-repeat;
                            padding: 80px 20px;
                            text-align: center;
                            min-height: 400px;
                            display: flex;
                            flex-direction: column;
                            justify-content: center;
                            align-items: center;
                            position: relative;
                            border-radius: 12px;
                            margin: 20px 0;
                        ">
                            <div style="
                                background: rgba(0,0,0,0.5);
                                padding: 40px;
                                border-radius: 12px;
                                backdrop-filter: blur(10px);
                            ">
                                <h2 style="color: white; font-family: Cairo, Arial, sans-serif; font-size: 2.5em; margin-bottom: 20px;" data-gjs-editable="true">نص على الصورة</h2>
                                <p style="color: rgba(255,255,255,0.9); font-family: Cairo, Arial, sans-serif; font-size: 1.2em;" data-gjs-editable="true">يمكنك إضافة نص فوق الصورة</p>
                            </div>
                        </div>
                    `},{id:"text-zone",label:"منطقة نص",category:"خلفيات",content:`
                        <div style="
                            background: rgba(255,255,255,0.95);
                            padding: 30px;
                            border-radius: 12px;
                            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
                            margin: 20px;
                            border: 2px dashed #ddd;
                            min-height: 150px;
                            display: flex;
                            flex-direction: column;
                            justify-content: center;
                        ">
                            <h3 style="font-family: Cairo, Arial, sans-serif; color: #333; margin-bottom: 15px;" data-gjs-editable="true">منطقة نص قابلة للتحرير</h3>
                            <p style="font-family: Cairo, Arial, sans-serif; color: #666; line-height: 1.6;" data-gjs-editable="true">اكتب المحتوى الخاص بك هنا. يمكن تحرير هذا النص وتنسيقه.</p>
                        </div>
                    `},{id:"upload-image",label:"رفع صورة",category:"وسائط",content:`
                        <div style="
                            border: 3px dashed #ccc;
                            padding: 40px;
                            text-align: center;
                            border-radius: 12px;
                            background: #f9f9f9;
                            cursor: pointer;
                            transition: all 0.3s;
                        " onclick="this.querySelector('input').click()">
                            <input type="file" accept="image/*" style="display: none;" onchange="
                                const file = this.files[0];
                                if (file) {
                                    const reader = new FileReader();
                                    reader.onload = (e) => {
                                        this.parentElement.innerHTML = '<img src=&quot;' + e.target.result + '&quot; style=&quot;max-width: 100%; height: auto; border-radius: 8px;&quot; alt=&quot;صورة مرفوعة&quot;>';
                                    };
                                    reader.readAsDataURL(file);
                                }
                            ">
                            <i class="fas fa-cloud-upload-alt" style="font-size: 48px; color: #ccc; margin-bottom: 15px;"></i>
                            <p style="font-family: Cairo, Arial, sans-serif; color: #666; margin: 0;">اضغط لرفع صورة</p>
                        </div>
                    `},{id:"canvas-container",label:"لوحة تصميم",category:"كانفا",content:`
                        <div class="canvas-container" style="
                            position: relative;
                            width: 600px;
                            height: 400px;
                            background: #f8f9fa;
                            border: 2px dashed #dee2e6;
                            border-radius: 12px;
                            margin: 20px auto;
                            overflow: hidden;
                            background-image: url('data:image/svg+xml,<svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;20&quot; height=&quot;20&quot; viewBox=&quot;0 0 20 20&quot;><rect width=&quot;20&quot; height=&quot;20&quot; fill=&quot;%23f8f9fa&quot;/><rect width=&quot;1&quot; height=&quot;20&quot; fill=&quot;%23e9ecef&quot;/><rect width=&quot;20&quot; height=&quot;1&quot; fill=&quot;%23e9ecef&quot;/></svg>');
                        ">
                            <div style="
                                position: absolute;
                                top: 50%;
                                left: 50%;
                                transform: translate(-50%, -50%);
                                text-align: center;
                                color: #6c757d;
                                font-family: Cairo, Arial, sans-serif;
                                pointer-events: none;
                            ">
                                <i class="fas fa-plus-circle" style="font-size: 48px; margin-bottom: 10px;"></i>
                                <p style="margin: 0; font-size: 16px;">اسحب العناصر هنا لإنشاء تصميمك</p>
                            </div>
                        </div>
                    `},{id:"background-image-canvas",label:"لوحة بخلفية",category:"كانفا",content:`
                        <div class="canvas-container" style="
                            position: relative;
                            width: 600px;
                            height: 400px;
                            background-image: url('https://images.unsplash.com/photo-1557804506-669a67965ba0?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80');
                            background-size: cover;
                            background-position: center;
                            background-repeat: no-repeat;
                            border-radius: 12px;
                            margin: 20px auto;
                            overflow: hidden;
                            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
                        ">
                            <div style="
                                position: absolute;
                                top: 20px;
                                right: 20px;
                                background: rgba(255,255,255,0.9);
                                padding: 8px 12px;
                                border-radius: 20px;
                                font-family: Cairo, Arial, sans-serif;
                                font-size: 12px;
                                color: #666;
                                backdrop-filter: blur(10px);
                            ">
                                اسحب العناصر هنا
                            </div>
                        </div>
                    `},{id:"floating-text",label:"نص عائم",category:"كانفا",content:`
                        <div style="
                            position: absolute;
                            top: 50px;
                            left: 50px;
                            background: rgba(255,255,255,0.95);
                            padding: 15px 20px;
                            border-radius: 8px;
                            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                            font-family: Cairo, Arial, sans-serif;
                            color: #333;
                            cursor: move;
                            border: 2px solid transparent;
                            transition: all 0.3s;
                            backdrop-filter: blur(10px);
                        " data-gjs-editable="true" onmouseover="this.style.borderColor='#007bff'" onmouseout="this.style.borderColor='transparent'">
                            اكتب النص هنا
                        </div>
                    `},{id:"floating-button",label:"زر عائم",category:"كانفا",content:`
                        <button style="
                            position: absolute;
                            top: 100px;
                            left: 100px;
                            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                            color: white;
                            padding: 12px 24px;
                            border: none;
                            border-radius: 25px;
                            font-family: Cairo, Arial, sans-serif;
                            font-weight: 600;
                            cursor: pointer;
                            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
                            transition: all 0.3s;
                            border: 2px solid transparent;
                        " data-gjs-editable="true" onmouseover="this.style.transform='translateY(-2px)'; this.style.borderColor='#fff'" onmouseout="this.style.transform='translateY(0)'; this.style.borderColor='transparent'">
                            انقر هنا
                        </button>
                    `},{id:"floating-image",label:"صورة عائمة",category:"كانفا",content:`
                        <div style="
                            position: absolute;
                            top: 150px;
                            left: 150px;
                            width: 120px;
                            height: 120px;
                            border-radius: 12px;
                            overflow: hidden;
                            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
                            cursor: move;
                            border: 3px solid transparent;
                            transition: all 0.3s;
                        " onmouseover="this.style.borderColor='#007bff'; this.style.transform='scale(1.05)'" onmouseout="this.style.borderColor='transparent'; this.style.transform='scale(1)'">
                            <img src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?ixlib=rb-4.0.3&auto=format&fit=crop&w=300&q=80" style="
                                width: 100%;
                                height: 100%;
                                object-fit: cover;
                            " alt="صورة عائمة">
                        </div>
                    `},{id:"floating-badge",label:"شارة عائمة",category:"كانفا",content:`
                        <div style="
                            position: absolute;
                            top: 30px;
                            left: 200px;
                            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
                            color: white;
                            padding: 8px 16px;
                            border-radius: 20px;
                            font-family: Cairo, Arial, sans-serif;
                            font-size: 14px;
                            font-weight: 600;
                            box-shadow: 0 4px 12px rgba(255, 107, 107, 0.4);
                            cursor: move;
                            border: 2px solid transparent;
                            transition: all 0.3s;
                        " data-gjs-editable="true" onmouseover="this.style.borderColor='#fff'; this.style.transform='rotate(-5deg)'" onmouseout="this.style.borderColor='transparent'; this.style.transform='rotate(0deg)'">
                            جديد!
                        </div>
                    `}]},layerManager:{appendTo:".layers-container"},styleManager:{appendTo:".styles-container",sectors:[{name:"الموضع والتخطيط",open:!0,buildProps:["position","top","right","left","bottom","z-index","transform","display","float"]},{name:"الأبعاد",open:!1,buildProps:["width","flex-width","height","max-width","min-height","margin","padding"]},{name:"النص",open:!1,buildProps:["font-family","font-size","font-weight","letter-spacing","color","line-height","text-align","text-decoration","text-shadow"]},{name:"الزخرفة",open:!1,buildProps:["opacity","background-color","border-radius","border","box-shadow","background"]},{name:"التأثيرات",open:!1,buildProps:["transition","animation","filter","backdrop-filter"]}]},traitManager:{appendTo:".traits-container"},canvas:{styles:["https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap"],scripts:[]},commands:{defaults:[]},deviceManager:{devices:[{id:"desktop",name:"سطح المكتب",width:""},{id:"tablet",name:"تابلت",width:"768px",widthMedia:"992px"},{id:"mobile",name:"موبايل",width:"320px",widthMedia:"768px"}]},richTextEditor:{actions:["bold","italic","underline","strikethrough","link"]},assetManager:{embedAsBase64:!0,upload:!1,uploadText:"رفع الصور هنا أو انقر للتصفح",addBtnText:"إضافة صورة",customFetch:(e,o)=>fetch(e,o)}}),x.template.design_data)try{const e=JSON.parse(x.template.design_data);a.loadProjectData(e)}catch(e){console.error("Error loading design data:",e),n("خطأ في تحميل التصميم المحفوظ","error")}h.value=a.UndoManager;const r=()=>{se.value=h.value.hasUndo(),ie.value=h.value.hasRedo()};a.on("change:changesCount",r),U.value&&qe(),H(()=>{setTimeout(()=>{z(),g.value==="blocks"&&setTimeout(()=>{const e=document.querySelector(".blocks-container");e&&e.children.length===0&&(console.log("Blocks container empty, forcing re-render"),a.BlockManager.render(e))},500)},200)}),n("تم تحميل المحرر بنجاح","success")},ke=()=>{if(a)try{const r=a.LayerManager,e=a.StyleManager,o=a.TraitManager,i=a.BlockManager;setTimeout(()=>{if(g.value==="blocks"){const s=document.querySelector(".blocks-container");s&&(s.innerHTML="",i.render(s))}else if(g.value==="layers"){const s=document.querySelector(".layers-container");s&&(s.innerHTML="",r.render(s))}else if(g.value==="styles"){const s=document.querySelector(".styles-container");s&&(s.innerHTML="",e.render(s))}else if(g.value==="properties"){const s=document.querySelector(".traits-container");s&&(s.innerHTML="",o.render(s))}},100)}catch(r){console.log("Panel refresh error:",r),setTimeout(()=>{z()},200)}},z=()=>{if(!a){console.warn("Editor not ready for panel initialization");return}try{const r=a.BlockManager,e=a.LayerManager,o=a.StyleManager,i=a.TraitManager;try{const s=document.querySelector(".blocks-container");s&&r&&(s.innerHTML="",r.render(s),console.log("Blocks rendered successfully"))}catch(s){console.error("Error rendering blocks:",s)}try{const s=document.querySelector(".layers-container");s&&e&&(s.innerHTML="",e.render(s),console.log("Layers rendered successfully"))}catch(s){console.error("Error rendering layers:",s)}try{const s=document.querySelector(".styles-container");s&&o&&(s.innerHTML="",o.render(s),console.log("Styles rendered successfully"))}catch(s){console.error("Error rendering styles:",s)}try{const s=document.querySelector(".traits-container");s&&i&&(s.innerHTML="",i.render(s),console.log("Traits rendered successfully"))}catch(s){console.error("Error rendering traits:",s)}console.log("Panels initialization completed")}catch(r){console.error("Panel initialization error:",r),setTimeout(()=>{console.log("Retrying panel initialization..."),z()},1e3)}},Ce=()=>{const r=document.querySelector(".w-80");r&&r.classList.toggle("hidden")},Q=r=>{if(!a)return;P.value=r;const e=a.DeviceManager;try{e.select(r),n(`تم التبديل إلى عرض ${r==="desktop"?"سطح المكتب":r==="tablet"?"التابلت":"الموبايل"}`,"info")}catch(o){console.error("Device switch error:",o),n("حدث خطأ أثناء تغيير العرض","error")}},_e=()=>{a&&(v.value=Math.min(v.value+.1,3),a.Canvas.setZoom(v.value),n(`تم التكبير إلى ${Math.round(v.value*100)}%`,"info"))},je=()=>{a&&(v.value=Math.max(v.value-.1,.1),a.Canvas.setZoom(v.value),n(`تم التصغير إلى ${Math.round(v.value*100)}%`,"info"))},ze=()=>{a&&(v.value=1,a.Canvas.setZoom(1),n("تم إعادة تعيين التكبير","info"))},Se=()=>{O.value=!O.value,n(`تم ${O.value?"إظهار":"إخفاء"} الشبكة`,"info")},Ae=()=>{B.value=!B.value,n(`تم ${B.value?"إظهار":"إخفاء"} المساطر`,"info")},Me=()=>{if(T.value=!T.value,a){const r=a.Canvas;T.value?(r.getBody().style.backgroundImage=`
                linear-gradient(rgba(0,0,0,.1) 1px, transparent 1px),
                linear-gradient(90deg, rgba(0,0,0,.1) 1px, transparent 1px)
            `,r.getBody().style.backgroundSize="20px 20px"):r.getBody().style.backgroundImage="none"}n(`تم ${T.value?"تفعيل":"إلغاء"} المحاذاة للشبكة`,"info")},Te=()=>{if($.value=!$.value,a){const e=a.Canvas.getBody();if($.value){const o=`
                .position-guide::before,
                .position-guide::after {
                    content: '';
                    position: absolute;
                    background: rgba(0, 123, 255, 0.5);
                    z-index: 9999;
                    pointer-events: none;
                }
                .position-guide::before {
                    top: 0;
                    left: 50%;
                    width: 1px;
                    height: 100%;
                    transform: translateX(-50%);
                }
                .position-guide::after {
                    top: 50%;
                    left: 0;
                    width: 100%;
                    height: 1px;
                    transform: translateY(-50%);
                }
            `,i=e.querySelector("#position-guide-style")||e.ownerDocument.createElement("style");i.id="position-guide-style",i.textContent=o,e.ownerDocument.head.appendChild(i),e.classList.add("position-guide")}else{e.classList.remove("position-guide");const o=e.querySelector("#position-guide-style");o&&o.remove()}}n(`تم ${$.value?"إظهار":"إخفاء"} دليل الموضع`,"info")},le=async()=>{var r;if(!a){n("المحرر غير جاهز بعد","error");return}_.value=!0,q("حفظ التصميم","جاري حفظ التصميم...",0);try{f(25,"جاري تحضير البيانات...");const e=a.getProjectData();e.assets&&(e.assets=e.assets.filter(E=>!E.src||!E.src.includes("300x200")||E.src.startsWith("data:"))),f(50,"جاري إرسال البيانات...");const o=(r=document.querySelector('meta[name="csrf-token"]'))==null?void 0:r.getAttribute("content");if(!o){n("خطأ في الأمان، يرجى إعادة تحميل الصفحة","error"),_.value=!1,C();return}f(75,"جاري معالجة الطلب...");const i=await fetch(route("admin.templates.design.save",x.template.id),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":o},body:JSON.stringify({design_data:JSON.stringify(e)})});if(f(90,"جاري التحقق من النتيجة..."),!i.ok)throw new Error(`HTTP error! status: ${i.status}`);const s=await i.json();f(100,"تم الحفظ بنجاح!"),s.success?(n("تم حفظ التصميم بنجاح! 🎉","success"),I.value=new Date):n(s.message||"حدث خطأ أثناء حفظ التصميم","error")}catch(e){console.error("Error saving design:",e),n("حدث خطأ في الاتصال أثناء حفظ التصميم","error")}finally{_.value=!1,C()}},$e=async()=>{var r;if(!(!U.value||_.value||!a))try{const e=a.getProjectData(),o=(r=document.querySelector('meta[name="csrf-token"]'))==null?void 0:r.getAttribute("content");if(!o){console.warn("CSRF token not found, skipping auto-save");return}(await(await fetch(route("admin.templates.design.save",x.template.id),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":o},body:JSON.stringify({design_data:JSON.stringify(e)})})).json()).success&&(I.value=new Date)}catch(e){console.error("Auto-save failed:",e)}},qe=()=>{j.value&&clearInterval(j.value),j.value=setInterval($e,3e4)},Ee=()=>{j.value&&(clearInterval(j.value),j.value=null)},de=()=>{a&&h.value&&h.value.hasUndo()&&(h.value.undo(),n("تم التراجع","info"))},ce=()=>{a&&h.value&&h.value.hasRedo()&&(h.value.redo(),n("تم الإعادة","success"))},ee=async()=>{if(!y.value.trim()){n("يرجى إدخال وصف للتصميم المطلوب","warning");return}k.value=!0,q("الذكاء الاصطناعي يعمل","جاري إنشاء التصميم...",0);try{for(let r=0;r<=100;r+=10)await new Promise(e=>setTimeout(e,200)),f(r,`جاري تحليل المتطلبات... ${r}%`);await Le(y.value,Z.value,W.value),n("تم إنشاء التصميم بالذكاء الاصطناعي بنجاح!","success"),M.value=!1,y.value=""}catch(r){console.error("AI Generation Error:",r),n("حدث خطأ أثناء إنشاء التصميم","error")}finally{k.value=!1,C()}},De=async r=>{y.value=r,await ee()},Le=async(r,e,o)=>{if(!a)return;a.setComponents(""),a.setStyle("");let i="",s="";r.includes("زواج")||r.includes("عرس")?(i=`
            <div class="ai-wedding-card">
                <div class="card-header">
                    <h1 class="main-title">مبارك الزواج</h1>
                    <div class="heart-decoration">💕</div>
                </div>
                <div class="card-body">
                    <p class="couple-names" data-gjs-editable="true">اسم العريس & اسم العروس</p>
                    <p class="wedding-date" data-gjs-editable="true">التاريخ: __ / __ / ____</p>
                    <p class="wedding-venue" data-gjs-editable="true">المكان: _____________</p>
                </div>
                <div class="card-footer">
                    <div class="decorative-border"></div>
                </div>
            </div>
        `,s=`
            .ai-wedding-card {
                background: linear-gradient(135deg, #fdf2f8 0%, #fce7f3 100%);
                padding: 40px;
                text-align: center;
                border-radius: 20px;
                box-shadow: 0 20px 40px rgba(0,0,0,0.1);
                max-width: 600px;
                margin: 50px auto;
                border: 3px solid #f9a8d4;
                font-family: 'Cairo', Arial, sans-serif;
            }
            .card-header {
                margin-bottom: 30px;
            }
            .main-title {
                color: #be185d;
                font-size: 36px;
                font-weight: bold;
                margin-bottom: 15px;
                text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
            }
            .heart-decoration {
                font-size: 48px;
                margin: 10px 0;
                animation: pulse 2s infinite;
            }
            .couple-names {
                color: #9d174d;
                font-size: 24px;
                margin: 20px 0;
                font-weight: 600;
            }
            .wedding-date, .wedding-venue {
                color: #7c2d12;
                font-size: 18px;
                margin: 10px 0;
            }
            .decorative-border {
                height: 4px;
                background: linear-gradient(90deg, #f9a8d4, #ec4899, #f9a8d4);
                border-radius: 2px;
                margin-top: 30px;
            }
            @keyframes pulse {
                0%, 100% { transform: scale(1); }
                50% { transform: scale(1.1); }
            }
        `):r.includes("عمل")||r.includes("مهني")?(i=`
            <div class="ai-business-card">
                <div class="card-left">
                    <div class="company-logo">
                        <i class="fas fa-building"></i>
                    </div>
                </div>
                <div class="card-right">
                    <h1 class="company-name" data-gjs-editable="true">اسم الشركة</h1>
                    <h2 class="person-name" data-gjs-editable="true">الاسم الكامل</h2>
                    <p class="job-title" data-gjs-editable="true">المنصب</p>
                    <div class="contact-info">
                        <p data-gjs-editable="true">الهاتف: +966 XX XXX XXXX</p>
                        <p data-gjs-editable="true">البريد: email@company.com</p>
                        <p data-gjs-editable="true">الموقع: www.company.com</p>
                    </div>
                </div>
            </div>
        `,s=`
            .ai-business-card {
                display: flex;
                background: linear-gradient(135deg, #1e40af 0%, #3730a3 100%);
                border-radius: 15px;
                overflow: hidden;
                box-shadow: 0 15px 30px rgba(0,0,0,0.2);
                max-width: 500px;
                margin: 50px auto;
                height: 300px;
                font-family: 'Cairo', Arial, sans-serif;
            }
            .card-left {
                background: rgba(255,255,255,0.1);
                width: 120px;
                display: flex;
                align-items: center;
                justify-content: center;
            }
            .company-logo {
                color: white;
                font-size: 48px;
            }
            .card-right {
                flex: 1;
                padding: 30px;
                color: white;
            }
            .company-name {
                font-size: 24px;
                font-weight: bold;
                margin-bottom: 10px;
            }
            .person-name {
                font-size: 20px;
                color: #fbbf24;
                margin-bottom: 5px;
            }
            .job-title {
                font-size: 16px;
                color: #e0e7ff;
                margin-bottom: 20px;
            }
            .contact-info p {
                font-size: 14px;
                margin: 5px 0;
                color: #c7d2fe;
            }
        `):(i=`
            <div class="ai-creative-card">
                <div class="creative-header">
                    <h1 class="creative-title" data-gjs-editable="true">تصميم إبداعي</h1>
                    <div class="creative-subtitle" data-gjs-editable="true">مُنشأ بالذكاء الاصطناعي</div>
                </div>
                <div class="creative-content">
                    <p class="creative-text" data-gjs-editable="true">هذا نص يمكن تحريره وتخصيصه حسب احتياجاتك</p>
                </div>
                <div class="creative-footer">
                    <div class="creative-pattern"></div>
                </div>
            </div>
        `,s=`
            .ai-creative-card {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                padding: 40px;
                text-align: center;
                border-radius: 20px;
                box-shadow: 0 20px 40px rgba(0,0,0,0.15);
                max-width: 600px;
                margin: 50px auto;
                color: white;
                position: relative;
                overflow: hidden;
                font-family: 'Cairo', Arial, sans-serif;
            }
            .creative-header {
                margin-bottom: 30px;
            }
            .creative-title {
                font-size: 32px;
                font-weight: bold;
                margin-bottom: 10px;
            }
            .creative-subtitle {
                font-size: 16px;
                opacity: 0.8;
            }
            .creative-text {
                font-size: 18px;
                line-height: 1.6;
                margin: 20px 0;
            }
            .creative-pattern {
                position: absolute;
                bottom: 0;
                left: 0;
                right: 0;
                height: 60px;
                background: linear-gradient(45deg, rgba(255,255,255,0.1) 25%, transparent 25%),
                           linear-gradient(-45deg, rgba(255,255,255,0.1) 25%, transparent 25%);
                background-size: 20px 20px;
            }
        `),a.setComponents(i),a.setStyle(s),n("تم تطبيق التصميم المُنشأ بالذكاء الاصطناعي","success")},Pe=()=>{if(!a){n("المحرر غير جاهز بعد","error");return}try{const r=a.getHtml(),e=a.getCss(),o=`
            <!DOCTYPE html>
            <html dir="rtl" lang="ar">
            <head>
                <meta charset="UTF-8">
                <meta name="viewport" content="width=device-width, initial-scale=1.0">
                <title>معاينة التصميم - ${x.template.name}</title>
                <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet">
                <style>
                    body {
                        margin: 0;
                        padding: 20px;
                        font-family: 'Cairo', Arial, sans-serif;
                        background: #f8fafc;
                        direction: rtl;
                    }
                    .preview-container {
                        max-width: 1200px;
                        margin: 0 auto;
                        background: white;
                        border-radius: 12px;
                        box-shadow: 0 4px 12px rgba(0,0,0,0.1);
                        overflow: hidden;
                    }
                    .preview-header {
                        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                        color: white;
                        padding: 20px;
                        text-align: center;
                    }
                    .preview-content {
                        padding: 20px;
                    }
                    ${e}
                </style>
            </head>
            <body>
                <div class="preview-container">
                    <div class="preview-header">
                        <h1>معاينة التصميم</h1>
                        <p>${x.template.name}</p>
                    </div>
                    <div class="preview-content">
                        ${r}
                    </div>
                </div>
            </body>
            </html>
        `,i=window.open("","_blank");i.document.write(o),i.document.close(),n("تم فتح المعاينة في نافذة جديدة","success")}catch(r){console.error("Preview error:",r),n("حدث خطأ أثناء إنشاء المعاينة","error")}},Oe=()=>{if(!a)return;const r=a.getHtml(),e=a.getCss(),o=`
        <!DOCTYPE html>
        <html dir="rtl" lang="ar">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <title>${x.template.name}</title>
            <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet">
            <style>
                body {
                    margin: 0;
                    font-family: 'Cairo', Arial, sans-serif;
                }
                ${e}
            </style>
        </head>
        <body>
            ${r}
        </body>
        </html>
    `,i=new Blob([o],{type:"text/html"}),s=document.createElement("a");s.download=`${x.template.name}-design.html`,s.href=URL.createObjectURL(i),s.click(),N.value=!1,showNotification("تم تصدير HTML بنجاح","success")},Be=()=>{if(!a)return;const r=a.getProjectData(),e=JSON.stringify(r,null,2),o=new Blob([e],{type:"application/json"}),i=document.createElement("a");i.download=`${x.template.name}-design.json`,i.href=URL.createObjectURL(o),i.click(),N.value=!1,showNotification("تم تصدير JSON بنجاح","success")},Ne=async()=>{if(a){q("تصدير الصورة","جاري إنشاء الصورة...",0);try{f(25,"جاري تحضير المحتوى...");const e=a.Canvas.getCanvasView().getFrameEl(),o=e.contentDocument||e.contentWindow.document;f(50,"جاري معالجة العناصر...");const i=document.createElement("canvas"),s=i.getContext("2d");i.width=800,i.height=600,f(75,"جاري إنشاء الصورة..."),s.fillStyle="#ffffff",s.fillRect(0,0,i.width,i.height),s.fillStyle="#333333",s.font="24px Cairo, Arial, sans-serif",s.textAlign="center",s.fillText("معاينة التصميم",i.width/2,i.height/2),f(100,"جاري التحميل..."),i.toBlob(E=>{const oe=document.createElement("a");oe.download=`${x.template.name}-design.png`,oe.href=URL.createObjectURL(E),oe.click(),n("تم تصدير الصورة بنجاح","success"),C()},"image/png")}catch(r){console.error("Export error:",r),n("حدث خطأ أثناء تصدير الصورة","error"),C()}m.value=!1}},Ue=()=>{if(!a){n("المحرر غير جاهز بعد","error");return}const r=document.createElement("input");r.type="file",r.accept=".json",r.onchange=async e=>{const o=e.target.files[0];if(o){q("استيراد التصميم","جاري قراءة الملف...",0);try{f(25,"جاري تحليل البيانات...");const i=await o.text(),s=JSON.parse(i);if(f(50,"جاري التحقق من صحة البيانات..."),!s||typeof s!="object")throw new Error("ملف غير صحيح");f(75,"جاري تطبيق التصميم..."),a.loadProjectData(s),f(100,"تم الاستيراد بنجاح!"),n("تم استيراد التصميم بنجاح!","success"),m.value=!1}catch(i){console.error("Import error:",i),n("خطأ في استيراد الملف. تأكد من أنه ملف JSON صحيح","error")}finally{C()}}},r.click()},F=r=>{if(!a){n("المحرر غير جاهز بعد","error");return}const e=a.getSelected();if(!e){n("يرجى تحديد عنصر أولاً","warning");return}try{switch(r){case"enable-absolute-positioning":e.addStyle({position:"absolute",top:"50px",left:"50px","z-index":"10"}),n("تم تفعيل الموضع المطلق","success");break;case"bring-to-front":const o=e.getStyle()["z-index"]||1;e.addStyle({"z-index":parseInt(o)+10}),n("تم إحضار العنصر للأمام","success");break;case"send-to-back":const i=e.getStyle()["z-index"]||1;e.addStyle({"z-index":Math.max(1,parseInt(i)-10)}),n("تم إرسال العنصر للخلف","success");break;case"center-element":e.addStyle({position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}),n("تم توسيط العنصر","success");break}}catch(o){console.error("Command error:",o),n("حدث خطأ أثناء تنفيذ الأمر","error")}},w=r=>{if(!a){n("المحرر غير جاهز بعد","error");return}const e=a.getSelected();if(!e){n("يرجى تحديد عنصر أولاً","warning");return}try{let o={position:"absolute"};switch(r){case"top-left":o={...o,top:"20px",left:"20px",transform:"none"};break;case"top-center":o={...o,top:"20px",left:"50%",transform:"translateX(-50%)"};break;case"top-right":o={...o,top:"20px",right:"20px",left:"auto",transform:"none"};break;case"center-left":o={...o,top:"50%",left:"20px",transform:"translateY(-50%)"};break;case"center":o={...o,top:"50%",left:"50%",transform:"translate(-50%, -50%)"};break;case"center-right":o={...o,top:"50%",right:"20px",left:"auto",transform:"translateY(-50%)"};break;case"bottom-left":o={...o,bottom:"20px",left:"20px",top:"auto",transform:"none"};break;case"bottom-center":o={...o,bottom:"20px",left:"50%",top:"auto",transform:"translateX(-50%)"};break;case"bottom-right":o={...o,bottom:"20px",right:"20px",left:"auto",top:"auto",transform:"none"};break}e.addStyle(o),n(`تم تطبيق الموضع: ${Ie(r)}`,"success")}catch(o){console.error("Position error:",o),n("حدث خطأ أثناء تطبيق الموضع","error")}},Ie=r=>({"top-left":"أعلى يسار","top-center":"أعلى وسط","top-right":"أعلى يمين","center-left":"وسط يسار",center:"وسط","center-right":"وسط يمين","bottom-left":"أسفل يسار","bottom-center":"أسفل وسط","bottom-right":"أسفل يمين"})[r]||r,Re=r=>{console.log(`Switching to tab: ${r}`),g.value,g.value=r,H(()=>{setTimeout(()=>{const e=`.${r==="blocks"?"blocks":r==="layers"?"layers":r==="styles"?"styles":"traits"}-container`,o=document.querySelector(e);if(o)if(o.children.length===0){if(console.log(`Container ${r} is empty, initializing...`),a)try{switch(r){case"blocks":a.BlockManager.render(o);break;case"layers":a.LayerManager.render(o);break;case"styles":a.StyleManager.render(o);break;case"properties":a.TraitManager.render(o);break}}catch(i){console.error(`Error rendering ${r}:`,i),z()}}else console.log(`Container ${r} has content:`,o.children.length,"elements")},100)})},Fe=()=>{console.log("=== PANEL DEBUGGING ==="),console.log("Current tab:",g.value),console.log("Editor exists:",!!a),a&&(console.log("BlockManager:",a.BlockManager),console.log("LayerManager:",a.LayerManager),console.log("StyleManager:",a.StyleManager),console.log("TraitManager:",a.TraitManager)),[{name:"blocks",selector:".blocks-container"},{name:"layers",selector:".layers-container"},{name:"styles",selector:".styles-container"},{name:"traits",selector:".traits-container"}].forEach(e=>{const o=document.querySelector(e.selector);console.log(`${e.name} container:`,{exists:!!o,children:o?o.children.length:0,innerHTML:o?o.innerHTML.substring(0,100)+"...":"N/A"})}),console.log("Forcing re-initialization..."),z(),n("تم تشخيص المشاكل - تحقق من وحدة التحكم","info")},ue=r=>{N.value&&!r.target.closest(".export-menu")&&(N.value=!1),m.value&&!r.target.closest(".advanced-menu")&&(m.value=!1)},He=async()=>{if(a){q("تصدير PDF","جاري إنشاء ملف PDF...",0);try{f(50,"جاري معالجة المحتوى...");const r=a.getHtml(),e=a.getCss(),o=`
            <!DOCTYPE html>
            <html dir="rtl" lang="ar">
            <head>
                <meta charset="UTF-8">
                <title>${x.template.name}</title>
                <style>
                    @page { size: A4; margin: 0; }
                    body { margin: 0; font-family: 'Cairo', Arial, sans-serif; }
                    ${e}
                </style>
            </head>
            <body>
                ${r}
            </body>
            </html>
        `;f(100,"جاري التحميل...");const i=new Blob([o],{type:"text/html"}),s=document.createElement("a");s.download=`${x.template.name}-design.html`,s.href=URL.createObjectURL(i),s.click(),n("تم إنشاء ملف HTML للطباعة كـ PDF","success")}catch(r){console.error("PDF Export error:",r),n("حدث خطأ أثناء تصدير PDF","error")}finally{C(),m.value=!1}}},fe={wedding:{html:`
            <div style="background: linear-gradient(135deg, #fdf2f8 0%, #fce7f3 100%); padding: 40px; text-align: center; min-height: 500px; display: flex; flex-direction: column; justify-content: center;">
                <div style="background: white; padding: 40px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); max-width: 600px; margin: 0 auto;">
                    <div style="color: #ec4899; font-size: 48px; margin-bottom: 20px;">💕</div>
                    <h1 style="color: #be185d; font-size: 36px; margin-bottom: 20px; font-family: 'Cairo', Arial, sans-serif;" data-gjs-editable="true">مبارك الزواج</h1>
                    <p style="color: #9d174d; font-size: 24px; margin-bottom: 30px; font-family: 'Cairo', Arial, sans-serif;" data-gjs-editable="true">اسم العريس & اسم العروس</p>
                    <p style="color: #7c2d12; font-size: 18px; font-family: 'Cairo', Arial, sans-serif;" data-gjs-editable="true">التاريخ: __ / __ / ____</p>
                    <p style="color: #7c2d12; font-size: 18px; font-family: 'Cairo', Arial, sans-serif;" data-gjs-editable="true">المكان: _____________</p>
                </div>
            </div>
        `,css:`
            * { box-sizing: border-box; }
            body { margin: 0; font-family: 'Cairo', Arial, sans-serif; direction: rtl; }
        `},ramadan:{html:`
            <div style="background: linear-gradient(135deg, #064e3b 0%, #065f46 100%); padding: 40px; text-align: center; min-height: 500px; display: flex; flex-direction: column; justify-content: center;">
                <div style="background: rgba(255,255,255,0.1); padding: 40px; border-radius: 20px; backdrop-filter: blur(10px); max-width: 600px; margin: 0 auto; border: 1px solid rgba(255,255,255,0.2);">
                    <div style="color: #fbbf24; font-size: 48px; margin-bottom: 20px;">🌙</div>
                    <h1 style="color: #fbbf24; font-size: 36px; margin-bottom: 20px; font-family: 'Cairo', Arial, sans-serif;" data-gjs-editable="true">رمضان مبارك</h1>
                    <p style="color: #d1fae5; font-size: 20px; margin-bottom: 30px; font-family: 'Cairo', Arial, sans-serif;" data-gjs-editable="true">كل عام وأنتم بخير</p>
                    <p style="color: #a7f3d0; font-size: 16px; font-family: 'Cairo', Arial, sans-serif;" data-gjs-editable="true">تقبل الله منا ومنكم صالح الأعمال</p>
                </div>
            </div>
        `,css:`
            * { box-sizing: border-box; }
            body { margin: 0; font-family: 'Cairo', Arial, sans-serif; direction: rtl; }
        `},graduation:{html:`
            <div style="background: linear-gradient(135deg, #1e3a8a 0%, #3730a3 100%); padding: 40px; text-align: center; min-height: 500px; display: flex; flex-direction: column; justify-content: center;">
                <div style="background: white; padding: 40px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); max-width: 600px; margin: 0 auto;">
                    <div style="color: #1e40af; font-size: 48px; margin-bottom: 20px;">🎓</div>
                    <h1 style="color: #1e40af; font-size: 36px; margin-bottom: 20px; font-family: 'Cairo', Arial, sans-serif;" data-gjs-editable="true">مبروك التخرج</h1>
                    <p style="color: #1e3a8a; font-size: 24px; margin-bottom: 30px; font-family: 'Cairo', Arial, sans-serif;" data-gjs-editable="true">اسم الخريج</p>
                    <p style="color: #374151; font-size: 18px; font-family: 'Cairo', Arial, sans-serif;" data-gjs-editable="true">التخصص: _____________</p>
                    <p style="color: #374151; font-size: 18px; font-family: 'Cairo', Arial, sans-serif;" data-gjs-editable="true">الجامعة: _____________</p>
                    <p style="color: #374151; font-size: 16px; font-family: 'Cairo', Arial, sans-serif;" data-gjs-editable="true">سنة التخرج: ____</p>
                </div>
            </div>
        `,css:`
            * { box-sizing: border-box; }
            body { margin: 0; font-family: 'Cairo', Arial, sans-serif; direction: rtl; }
        `},business:{html:`
            <div style="background: #f8fafc; padding: 40px; min-height: 500px; display: flex; align-items: center; justify-content: center;">
                <div style="background: white; padding: 40px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); max-width: 500px; width: 100%; border-left: 4px solid #3b82f6;">
                    <h1 style="color: #1f2937; font-size: 28px; margin-bottom: 10px; font-family: 'Cairo', Arial, sans-serif;" data-gjs-editable="true">اسم الشركة</h1>
                    <h2 style="color: #3b82f6; font-size: 22px; margin-bottom: 20px; font-family: 'Cairo', Arial, sans-serif;" data-gjs-editable="true">الاسم الكامل</h2>
                    <p style="color: #6b7280; font-size: 16px; margin-bottom: 10px; font-family: 'Cairo', Arial, sans-serif;" data-gjs-editable="true">المنصب: _____________</p>
                    <p style="color: #6b7280; font-size: 16px; margin-bottom: 10px; font-family: 'Cairo', Arial, sans-serif;" data-gjs-editable="true">الهاتف: _____________</p>
                    <p style="color: #6b7280; font-size: 16px; margin-bottom: 10px; font-family: 'Cairo', Arial, sans-serif;" data-gjs-editable="true">البريد الإلكتروني: _____________</p>
                    <p style="color: #6b7280; font-size: 16px; font-family: 'Cairo', Arial, sans-serif;" data-gjs-editable="true">العنوان: _____________</p>
                </div>
            </div>
        `,css:`
            * { box-sizing: border-box; }
            body { margin: 0; font-family: 'Cairo', Arial, sans-serif; direction: rtl; }
        `}},te=r=>{if(!(!a||!fe[r])&&confirm("هل أنت متأكد من تحميل هذا القالب؟ سيتم استبدال التصميم الحالي.")){showLoading("جاري تحميل القالب...");const e=fe[r];a.setComponents(e.html),a.setStyle(e.css),C(),n("تم تحميل القالب بنجاح","success"),m.value=!1}},pe=r=>{(r.ctrlKey||r.metaKey)&&r.key==="s"&&(r.preventDefault(),le()),(r.ctrlKey||r.metaKey)&&r.key==="z"&&!r.shiftKey&&(r.preventDefault(),de()),((r.ctrlKey||r.metaKey)&&r.key==="y"||(r.ctrlKey||r.metaKey)&&r.shiftKey&&r.key==="z")&&(r.preventDefault(),ce())};return Je(g,(r,e)=>{console.log(`Switching from ${e} to ${r}`),a&&r&&H(()=>{setTimeout(()=>{ke(),setTimeout(()=>{const o=document.querySelector(`.${r==="blocks"?"blocks":r==="layers"?"layers":r==="styles"?"styles":"traits"}-container`);o&&o.children.length===0&&(console.log(`Container ${r} is empty, forcing re-initialization`),z())},300)},50)})},{immediate:!1}),Ge(()=>{H(()=>{we(),document.addEventListener("click",ue),document.addEventListener("keydown",pe)})}),Xe(()=>{document.removeEventListener("click",ue),document.removeEventListener("keydown",pe),Ee(),a&&a.destroy()}),(r,e)=>(c(),d(D,null,[Ke(J(Ye),{title:"محرر التصميم الاحترافي - GrapesJS Pro"},{default:Ve(()=>e[29]||(e[29]=[t("link",{href:"https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&family=Amiri:wght@400;700&family=Noto+Sans+Arabic:wght@300;400;600;700&display=swap",rel:"stylesheet"},null,-1),t("link",{href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css",rel:"stylesheet"},null,-1),t("link",{href:"https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css",rel:"stylesheet"},null,-1)])),_:1,__:[29]}),t("div",et,[t("div",tt,[e[54]||(e[54]=t("div",{class:"absolute inset-0 bg-gradient-to-r from-purple-600/20 to-blue-600/20"},null,-1)),t("div",ot,[t("div",rt,[t("div",at,[t("div",st,[e[31]||(e[31]=t("div",{class:"w-12 h-12 bg-gradient-to-r from-purple-500 to-blue-500 rounded-xl flex items-center justify-center shadow-lg"},[t("i",{class:"fas fa-palette text-white text-xl"})],-1)),t("div",null,[e[30]||(e[30]=t("h1",{class:"text-2xl font-bold bg-gradient-to-r from-white to-purple-200 bg-clip-text text-transparent"}," محرر التصميم الاحترافي ",-1)),t("p",it,p(re.template.name),1)])]),t("div",nt,[t("div",lt,[t("div",{class:u(["w-2 h-2 rounded-full animate-pulse",U.value?"bg-green-400":"bg-red-400"])},null,2),t("span",dt,p(U.value?"حفظ تلقائي":"حفظ يدوي"),1)]),I.value?(c(),d("div",ct," آخر حفظ: "+p(he(I.value)),1)):b("",!0),e[32]||(e[32]=t("div",{class:"flex items-center space-x-2 space-x-reverse"},[t("div",{class:"w-2 h-2 bg-blue-400 rounded-full animate-pulse"}),t("span",{class:"text-white/80"},"متصل")],-1))])]),t("div",ut,[t("div",ft,[t("button",{onClick:de,disabled:!se.value,class:"p-3 rounded-lg transition-all duration-200 hover:bg-white/30 disabled:opacity-50 disabled:cursor-not-allowed group",title:"تراجع (Ctrl+Z)"},e[33]||(e[33]=[t("i",{class:"fas fa-undo text-white text-lg group-hover:scale-110 transition-transform"},null,-1)]),8,pt),t("button",{onClick:ce,disabled:!ie.value,class:"p-3 rounded-lg transition-all duration-200 hover:bg-white/30 disabled:opacity-50 disabled:cursor-not-allowed group",title:"إعادة (Ctrl+Y)"},e[34]||(e[34]=[t("i",{class:"fas fa-redo text-white text-lg group-hover:scale-110 transition-transform"},null,-1)]),8,gt)]),t("div",bt,[t("button",{onClick:e[0]||(e[0]=o=>Q("desktop")),class:u(["p-3 rounded-lg transition-all duration-200 group",P.value==="desktop"?"bg-white/40 text-white shadow-md":"text-white/80 hover:bg-white/30"]),title:"عرض سطح المكتب"},e[35]||(e[35]=[t("i",{class:"fas fa-desktop text-lg group-hover:scale-110 transition-transform"},null,-1)]),2),t("button",{onClick:e[1]||(e[1]=o=>Q("tablet")),class:u(["p-3 rounded-lg transition-all duration-200 group",P.value==="tablet"?"bg-white/40 text-white shadow-md":"text-white/80 hover:bg-white/30"]),title:"عرض التابلت"},e[36]||(e[36]=[t("i",{class:"fas fa-tablet-alt text-lg group-hover:scale-110 transition-transform"},null,-1)]),2),t("button",{onClick:e[2]||(e[2]=o=>Q("mobile")),class:u(["p-3 rounded-lg transition-all duration-200 group",P.value==="mobile"?"bg-white/40 text-white shadow-md":"text-white/80 hover:bg-white/30"]),title:"عرض الموبايل"},e[37]||(e[37]=[t("i",{class:"fas fa-mobile-alt text-lg group-hover:scale-110 transition-transform"},null,-1)]),2)]),t("div",xt,[t("button",{onClick:le,disabled:_.value,class:"bg-gradient-to-r from-green-500 to-emerald-600 text-white px-8 py-4 rounded-xl font-bold hover:from-green-600 hover:to-emerald-700 transition-all duration-200 disabled:opacity-50 shadow-xl hover:shadow-2xl transform hover:-translate-y-1 hover:scale-105 flex items-center space-x-3 space-x-reverse text-lg"},[t("i",{class:u(_.value?"fas fa-spinner fa-spin text-xl":"fas fa-save text-xl")},null,2),t("span",null,p(_.value?"جاري الحفظ...":"حفظ التصميم"),1)],8,mt),t("button",{onClick:Pe,class:"bg-gradient-to-r from-blue-500 to-indigo-600 text-white px-8 py-4 rounded-xl font-bold hover:from-blue-600 hover:to-indigo-700 transition-all duration-200 shadow-xl hover:shadow-2xl transform hover:-translate-y-1 hover:scale-105 flex items-center space-x-3 space-x-reverse text-lg"},e[38]||(e[38]=[t("i",{class:"fas fa-eye text-xl"},null,-1),t("span",null,"معاينة",-1)])),t("div",vt,[t("button",{onClick:e[3]||(e[3]=o=>m.value=!m.value),class:"bg-gradient-to-r from-purple-500 to-pink-600 text-white px-8 py-4 rounded-xl font-bold hover:from-purple-600 hover:to-pink-700 transition-all duration-200 shadow-xl hover:shadow-2xl transform hover:-translate-y-1 hover:scale-105 flex items-center space-x-3 space-x-reverse text-lg"},[e[39]||(e[39]=t("i",{class:"fas fa-magic text-xl"},null,-1)),e[40]||(e[40]=t("span",null,"أدوات متقدمة",-1)),t("i",{class:u(["fas fa-chevron-down text-sm transition-transform duration-200",m.value?"rotate-180":""])},null,2)]),m.value?(c(),d("div",yt,[t("div",ht,[t("div",wt,[e[42]||(e[42]=t("h3",{class:"text-lg font-bold flex items-center"},[t("i",{class:"fas fa-magic ml-3 text-xl"}),S(" الأدوات المتقدمة ")],-1)),t("button",{onClick:e[4]||(e[4]=o=>m.value=!1),class:"text-white/80 hover:text-white transition-colors p-2 rounded-lg hover:bg-white/20"},e[41]||(e[41]=[t("i",{class:"fas fa-times"},null,-1)]))])]),t("div",{class:"p-6 border-b border-gray-100"},[e[47]||(e[47]=t("h4",{class:"text-lg font-bold text-gray-800 mb-4 flex items-center"},[t("i",{class:"fas fa-download text-blue-500 ml-3 text-lg"}),S(" تصدير التصميم ")],-1)),t("div",{class:"grid grid-cols-2 gap-3"},[t("button",{onClick:Oe,class:"flex items-center justify-center space-x-2 space-x-reverse p-4 bg-gradient-to-r from-orange-100 to-orange-200 hover:from-orange-200 hover:to-orange-300 rounded-xl transition-all duration-200 text-orange-700 font-semibold shadow-md hover:shadow-lg transform hover:-translate-y-1"},e[43]||(e[43]=[t("i",{class:"fab fa-html5 text-lg"},null,-1),t("span",null,"HTML",-1)])),t("button",{onClick:Be,class:"flex items-center justify-center space-x-2 space-x-reverse p-4 bg-gradient-to-r from-blue-100 to-blue-200 hover:from-blue-200 hover:to-blue-300 rounded-xl transition-all duration-200 text-blue-700 font-semibold shadow-md hover:shadow-lg transform hover:-translate-y-1"},e[44]||(e[44]=[t("i",{class:"fas fa-code text-lg"},null,-1),t("span",null,"JSON",-1)])),t("button",{onClick:He,class:"flex items-center justify-center space-x-2 space-x-reverse p-4 bg-gradient-to-r from-red-100 to-red-200 hover:from-red-200 hover:to-red-300 rounded-xl transition-all duration-200 text-red-700 font-semibold shadow-md hover:shadow-lg transform hover:-translate-y-1"},e[45]||(e[45]=[t("i",{class:"fas fa-file-pdf text-lg"},null,-1),t("span",null,"PDF",-1)])),t("button",{onClick:Ne,class:"flex items-center justify-center space-x-2 space-x-reverse p-4 bg-gradient-to-r from-green-100 to-green-200 hover:from-green-200 hover:to-green-300 rounded-xl transition-all duration-200 text-green-700 font-semibold shadow-md hover:shadow-lg transform hover:-translate-y-1"},e[46]||(e[46]=[t("i",{class:"fas fa-image text-lg"},null,-1),t("span",null,"صورة",-1)]))])]),t("div",kt,[e[51]||(e[51]=t("h4",{class:"text-lg font-bold text-gray-800 mb-4 flex items-center"},[t("i",{class:"fas fa-layer-group text-purple-500 ml-3 text-lg"}),S(" قوالب احترافية ")],-1)),t("div",Ct,[t("button",{onClick:e[5]||(e[5]=o=>te("wedding")),class:"w-full flex items-center space-x-4 space-x-reverse p-4 bg-gradient-to-r from-pink-50 to-rose-50 hover:from-pink-100 hover:to-rose-100 rounded-xl transition-all duration-200 text-right border border-pink-200 hover:border-pink-300 shadow-sm hover:shadow-md transform hover:-translate-y-1"},e[48]||(e[48]=[G('<div class="w-12 h-12 bg-gradient-to-r from-pink-500 to-rose-500 rounded-xl flex items-center justify-center shadow-lg" data-v-57c3687b><i class="fas fa-heart text-white text-lg" data-v-57c3687b></i></div><div class="flex-1" data-v-57c3687b><div class="text-base font-bold text-gray-800" data-v-57c3687b>بطاقة زواج</div><div class="text-sm text-gray-600" data-v-57c3687b>تصميم رومانسي أنيق مع زخارف ذهبية</div></div>',2)])),t("button",{onClick:e[6]||(e[6]=o=>te("ramadan")),class:"w-full flex items-center space-x-4 space-x-reverse p-4 bg-gradient-to-r from-green-50 to-emerald-50 hover:from-green-100 hover:to-emerald-100 rounded-xl transition-all duration-200 text-right border border-green-200 hover:border-green-300 shadow-sm hover:shadow-md transform hover:-translate-y-1"},e[49]||(e[49]=[G('<div class="w-12 h-12 bg-gradient-to-r from-green-500 to-emerald-500 rounded-xl flex items-center justify-center shadow-lg" data-v-57c3687b><i class="fas fa-moon text-white text-lg" data-v-57c3687b></i></div><div class="flex-1" data-v-57c3687b><div class="text-base font-bold text-gray-800" data-v-57c3687b>بطاقة رمضان</div><div class="text-sm text-gray-600" data-v-57c3687b>تصميم إسلامي مبارك بألوان دافئة</div></div>',2)])),t("button",{onClick:e[7]||(e[7]=o=>te("business")),class:"w-full flex items-center space-x-4 space-x-reverse p-4 bg-gradient-to-r from-blue-50 to-indigo-50 hover:from-blue-100 hover:to-indigo-100 rounded-xl transition-all duration-200 text-right border border-blue-200 hover:border-blue-300 shadow-sm hover:shadow-md transform hover:-translate-y-1"},e[50]||(e[50]=[G('<div class="w-12 h-12 bg-gradient-to-r from-blue-500 to-indigo-500 rounded-xl flex items-center justify-center shadow-lg" data-v-57c3687b><i class="fas fa-briefcase text-white text-lg" data-v-57c3687b></i></div><div class="flex-1" data-v-57c3687b><div class="text-base font-bold text-gray-800" data-v-57c3687b>بطاقة عمل</div><div class="text-sm text-gray-600" data-v-57c3687b>تصميم مهني احترافي للشركات</div></div>',2)]))])]),t("div",_t,[t("div",jt,[t("button",{onClick:e[8]||(e[8]=o=>M.value=!0),class:"w-full flex items-center justify-center space-x-3 space-x-reverse p-4 bg-gradient-to-r from-purple-500 to-pink-500 hover:from-purple-600 hover:to-pink-600 rounded-xl transition-all duration-200 text-white font-bold shadow-lg hover:shadow-xl transform hover:-translate-y-1"},e[52]||(e[52]=[t("i",{class:"fas fa-robot text-xl"},null,-1),t("span",null,"مساعد الذكاء الاصطناعي",-1)])),t("button",{onClick:Ue,class:"w-full flex items-center justify-center space-x-3 space-x-reverse p-4 bg-gradient-to-r from-indigo-500 to-blue-500 hover:from-indigo-600 hover:to-blue-600 rounded-xl transition-all duration-200 text-white font-bold shadow-lg hover:shadow-xl transform hover:-translate-y-1"},e[53]||(e[53]=[t("i",{class:"fas fa-file-import text-xl"},null,-1),t("span",null,"استيراد تصميم",-1)]))])])])):b("",!0)])])])])])]),t("div",zt,[t("div",St,[t("div",{class:"bg-gradient-to-r from-slate-800 to-slate-900 p-4 border-b border-slate-700"},[t("div",{class:"flex items-center justify-between"},[e[56]||(e[56]=t("h2",{class:"text-white font-bold text-lg"},"أدوات التصميم",-1)),t("button",{onClick:Ce,class:"text-white/70 hover:text-white transition-colors p-2 rounded-lg hover:bg-white/10"},e[55]||(e[55]=[t("i",{class:"fas fa-times"},null,-1)]))])]),t("div",At,[(c(!0),d(D,null,X(me.value,o=>(c(),d("button",{key:o.id,onClick:i=>Re(o.id),class:u(["flex-1 py-3 px-4 text-sm font-medium transition-all duration-200 flex items-center justify-center space-x-2 space-x-reverse",g.value===o.id?"bg-white text-blue-600 border-b-2 border-blue-600 shadow-sm":"text-gray-600 hover:text-gray-800 hover:bg-gray-100"])},[t("i",{class:u(o.icon)},null,2),t("span",null,p(o.name),1)],10,Mt))),128))]),t("div",Tt,[g.value==="blocks"?(c(),d("div",$t,e[57]||(e[57]=[t("div",{class:"blocks-container"},null,-1)]))):b("",!0),g.value==="layers"?(c(),d("div",qt,[J(a)?b("",!0):(c(),d("div",Et,e[58]||(e[58]=[t("i",{class:"fas fa-spinner fa-spin text-2xl mb-2"},null,-1),t("p",null,"جاري تحميل الطبقات...",-1)]))),e[59]||(e[59]=t("div",{class:"layers-container"},null,-1))])):b("",!0),g.value==="styles"?(c(),d("div",Dt,[J(a)?b("",!0):(c(),d("div",Lt,e[60]||(e[60]=[t("i",{class:"fas fa-spinner fa-spin text-2xl mb-2"},null,-1),t("p",null,"جاري تحميل الأنماط...",-1)]))),e[61]||(e[61]=t("div",{class:"styles-container"},null,-1))])):b("",!0),g.value==="properties"?(c(),d("div",Pt,[J(a)?b("",!0):(c(),d("div",Ot,e[62]||(e[62]=[t("i",{class:"fas fa-spinner fa-spin text-2xl mb-2"},null,-1),t("p",null,"جاري تحميل الخصائص...",-1)]))),t("div",Bt,[e[77]||(e[77]=t("h3",{class:"text-lg font-bold text-gray-800 mb-4 flex items-center"},[t("i",{class:"fas fa-arrows-alt text-blue-500 ml-2"}),S(" أدوات الموضع ")],-1)),t("div",Nt,[t("button",{onClick:e[9]||(e[9]=o=>F("enable-absolute-positioning")),class:"flex items-center justify-center p-3 bg-blue-100 hover:bg-blue-200 rounded-lg transition-colors text-blue-700 text-sm font-medium",title:"تفعيل الموضع المطلق"},e[63]||(e[63]=[t("i",{class:"fas fa-expand-arrows-alt"},null,-1),t("span",{class:"mr-2"},"موضع مطلق",-1)])),t("button",{onClick:e[10]||(e[10]=o=>F("center-element")),class:"flex items-center justify-center p-3 bg-green-100 hover:bg-green-200 rounded-lg transition-colors text-green-700 text-sm font-medium",title:"توسيط العنصر"},e[64]||(e[64]=[t("i",{class:"fas fa-crosshairs"},null,-1),t("span",{class:"mr-2"},"توسيط",-1)])),t("button",{onClick:e[11]||(e[11]=o=>F("bring-to-front")),class:"flex items-center justify-center p-3 bg-purple-100 hover:bg-purple-200 rounded-lg transition-colors text-purple-700 text-sm font-medium",title:"إحضار للأمام"},e[65]||(e[65]=[t("i",{class:"fas fa-arrow-up"},null,-1),t("span",{class:"mr-2"},"للأمام",-1)])),t("button",{onClick:e[12]||(e[12]=o=>F("send-to-back")),class:"flex items-center justify-center p-3 bg-orange-100 hover:bg-orange-200 rounded-lg transition-colors text-orange-700 text-sm font-medium",title:"إرسال للخلف"},e[66]||(e[66]=[t("i",{class:"fas fa-arrow-down"},null,-1),t("span",{class:"mr-2"},"للخلف",-1)]))]),t("div",Ut,[e[76]||(e[76]=t("h4",{class:"text-sm font-semibold text-gray-700 mb-2"},"مواضع سريعة",-1)),t("div",It,[t("button",{onClick:e[13]||(e[13]=o=>w("top-left")),class:"p-2 bg-gray-100 hover:bg-gray-200 rounded text-xs",title:"أعلى يسار"},e[67]||(e[67]=[t("i",{class:"fas fa-arrow-up"},null,-1),t("i",{class:"fas fa-arrow-left"},null,-1)])),t("button",{onClick:e[14]||(e[14]=o=>w("top-center")),class:"p-2 bg-gray-100 hover:bg-gray-200 rounded text-xs",title:"أعلى وسط"},e[68]||(e[68]=[t("i",{class:"fas fa-arrow-up"},null,-1)])),t("button",{onClick:e[15]||(e[15]=o=>w("top-right")),class:"p-2 bg-gray-100 hover:bg-gray-200 rounded text-xs",title:"أعلى يمين"},e[69]||(e[69]=[t("i",{class:"fas fa-arrow-up"},null,-1),t("i",{class:"fas fa-arrow-right"},null,-1)])),t("button",{onClick:e[16]||(e[16]=o=>w("center-left")),class:"p-2 bg-gray-100 hover:bg-gray-200 rounded text-xs",title:"وسط يسار"},e[70]||(e[70]=[t("i",{class:"fas fa-arrow-left"},null,-1)])),t("button",{onClick:e[17]||(e[17]=o=>w("center")),class:"p-2 bg-blue-100 hover:bg-blue-200 rounded text-xs",title:"وسط"},e[71]||(e[71]=[t("i",{class:"fas fa-crosshairs"},null,-1)])),t("button",{onClick:e[18]||(e[18]=o=>w("center-right")),class:"p-2 bg-gray-100 hover:bg-gray-200 rounded text-xs",title:"وسط يمين"},e[72]||(e[72]=[t("i",{class:"fas fa-arrow-right"},null,-1)])),t("button",{onClick:e[19]||(e[19]=o=>w("bottom-left")),class:"p-2 bg-gray-100 hover:bg-gray-200 rounded text-xs",title:"أسفل يسار"},e[73]||(e[73]=[t("i",{class:"fas fa-arrow-down"},null,-1),t("i",{class:"fas fa-arrow-left"},null,-1)])),t("button",{onClick:e[20]||(e[20]=o=>w("bottom-center")),class:"p-2 bg-gray-100 hover:bg-gray-200 rounded text-xs",title:"أسفل وسط"},e[74]||(e[74]=[t("i",{class:"fas fa-arrow-down"},null,-1)])),t("button",{onClick:e[21]||(e[21]=o=>w("bottom-right")),class:"p-2 bg-gray-100 hover:bg-gray-200 rounded text-xs",title:"أسفل يمين"},e[75]||(e[75]=[t("i",{class:"fas fa-arrow-down"},null,-1),t("i",{class:"fas fa-arrow-right"},null,-1)]))])])]),e[78]||(e[78]=t("div",{class:"traits-container"},null,-1))])):b("",!0),g.value==="ai"?(c(),d("div",Rt,[t("div",Ft,[t("div",Ht,[e[79]||(e[79]=t("h3",{class:"font-bold text-gray-800 mb-2 flex items-center"},[t("i",{class:"fas fa-robot text-purple-600 ml-2"}),S(" مساعد الذكاء الاصطناعي ")],-1)),e[80]||(e[80]=t("p",{class:"text-sm text-gray-600 mb-3"},"اطلب من المساعد إنشاء تصميم أو تحسين العناصر",-1)),K(t("textarea",{"onUpdate:modelValue":e[22]||(e[22]=o=>y.value=o),placeholder:"مثال: أنشئ بطاقة زواج باللون الوردي مع زخارف ذهبية...",class:"w-full p-3 border border-gray-300 rounded-lg text-sm resize-none",rows:"3"},null,512),[[ge,y.value]]),t("button",{onClick:ee,disabled:!y.value.trim()||k.value,class:"w-full mt-3 bg-gradient-to-r from-purple-500 to-blue-500 text-white py-2 px-4 rounded-lg font-medium hover:from-purple-600 hover:to-blue-600 transition-all duration-200 disabled:opacity-50 flex items-center justify-center space-x-2 space-x-reverse"},[t("i",{class:u(k.value?"fas fa-spinner fa-spin":"fas fa-magic")},null,2),t("span",null,p(k.value?"جاري الإنشاء...":"إنشاء بالذكاء الاصطناعي"),1)],8,Jt)]),t("div",Gt,[e[81]||(e[81]=t("h4",{class:"font-semibold text-gray-800 text-sm"},"قوالب سريعة بالذكاء الاصطناعي",-1)),(c(!0),d(D,null,X(ve.value,o=>(c(),d("button",{key:o.id,onClick:i=>De(o.prompt),class:"w-full text-right p-3 bg-gray-50 hover:bg-gray-100 rounded-lg transition-colors border border-gray-200 text-sm"},[t("div",Kt,[t("div",{class:u(["w-8 h-8 rounded-lg flex items-center justify-center",o.color])},[t("i",{class:u([o.icon,"text-white text-xs"])},null,2)],2),t("div",Vt,[t("div",Yt,p(o.name),1),t("div",Zt,p(o.description),1)])])],8,Xt))),128))])])])):b("",!0)])]),t("div",Wt,[t("div",Qt,[t("div",eo,[t("button",{onClick:je,class:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"تصغير"},e[82]||(e[82]=[t("i",{class:"fas fa-search-minus text-gray-600"},null,-1)])),t("span",to,p(Math.round(v.value*100))+"%",1),t("button",{onClick:_e,class:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"تكبير"},e[83]||(e[83]=[t("i",{class:"fas fa-search-plus text-gray-600"},null,-1)])),t("button",{onClick:ze,class:"p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"إعادة تعيين"},e[84]||(e[84]=[t("i",{class:"fas fa-expand-arrows-alt text-gray-600"},null,-1)]))]),t("button",{onClick:Se,class:u(["p-3 rounded-xl transition-all duration-200 shadow-lg border border-white/20",O.value?"bg-blue-500 text-white":"bg-white/90 text-gray-600 hover:bg-gray-100"]),title:"إظهار/إخفاء الشبكة"},e[85]||(e[85]=[t("i",{class:"fas fa-th"},null,-1)]),2),t("button",{onClick:Ae,class:u(["p-3 rounded-xl transition-all duration-200 shadow-lg border border-white/20",B.value?"bg-green-500 text-white":"bg-white/90 text-gray-600 hover:bg-gray-100"]),title:"إظهار/إخفاء المساطر"},e[86]||(e[86]=[t("i",{class:"fas fa-ruler-combined"},null,-1)]),2),t("button",{onClick:Me,class:u(["p-3 rounded-xl transition-all duration-200 shadow-lg border border-white/20",T.value?"bg-purple-500 text-white":"bg-white/90 text-gray-600 hover:bg-gray-100"]),title:"المحاذاة للشبكة"},e[87]||(e[87]=[t("i",{class:"fas fa-magnet"},null,-1)]),2),t("button",{onClick:Te,class:u(["p-3 rounded-xl transition-all duration-200 shadow-lg border border-white/20",$.value?"bg-orange-500 text-white":"bg-white/90 text-gray-600 hover:bg-gray-100"]),title:"دليل الموضع"},e[88]||(e[88]=[t("i",{class:"fas fa-crosshairs"},null,-1)]),2),t("button",{onClick:Fe,class:"p-3 rounded-xl transition-all duration-200 shadow-lg border border-white/20 bg-red-500 text-white hover:bg-red-600",title:"تشخيص المشاكل"},e[89]||(e[89]=[t("i",{class:"fas fa-bug"},null,-1)]))]),e[90]||(e[90]=t("div",{id:"gjs",class:"w-full h-full"},null,-1))])]),t("div",oo,[(c(!0),d(D,null,X(R.value,o=>(c(),d("div",{key:o.id,class:u(["px-6 py-4 rounded-xl shadow-2xl text-white font-medium transform transition-all duration-300 backdrop-blur-sm border border-white/20 animate__animated animate__slideInLeft",o.type==="success"?"bg-gradient-to-r from-green-500 to-emerald-600":o.type==="error"?"bg-gradient-to-r from-red-500 to-pink-600":o.type==="warning"?"bg-gradient-to-r from-yellow-500 to-orange-600":"bg-gradient-to-r from-blue-500 to-indigo-600"])},[t("div",ro,[t("i",{class:u([o.type==="success"?"fas fa-check-circle":o.type==="error"?"fas fa-exclamation-circle":o.type==="warning"?"fas fa-exclamation-triangle":"fas fa-info-circle"])},null,2),t("span",null,p(o.message),1),t("button",{onClick:i=>ne(o.id),class:"text-white/70 hover:text-white transition-colors"},e[91]||(e[91]=[t("i",{class:"fas fa-times"},null,-1)]),8,ao)])],2))),128))]),V.value?(c(),d("div",so,[t("div",io,[e[92]||(e[92]=G('<div class="relative mb-6" data-v-57c3687b><div class="w-16 h-16 mx-auto" data-v-57c3687b><div class="absolute inset-0 rounded-full border-4 border-purple-200" data-v-57c3687b></div><div class="absolute inset-0 rounded-full border-4 border-purple-600 border-t-transparent animate-spin" data-v-57c3687b></div></div><div class="absolute inset-0 flex items-center justify-center" data-v-57c3687b><i class="fas fa-palette text-purple-600 text-xl" data-v-57c3687b></i></div></div>',1)),t("h3",no,p(Y.value||"جاري المعالجة"),1),t("p",lo,p(L.value),1),t("div",co,[t("div",{class:"bg-gradient-to-r from-purple-500 to-blue-500 h-2 rounded-full transition-all duration-300",style:Ze({width:A.value+"%"})},null,4)]),t("p",uo,p(A.value)+"% مكتمل",1)])])):b("",!0),M.value?(c(),d("div",fo,[t("div",po,[t("div",go,[e[94]||(e[94]=t("h2",{class:"text-2xl font-bold text-gray-800 flex items-center"},[t("i",{class:"fas fa-robot text-purple-600 ml-3"}),S(" مساعد الذكاء الاصطناعي ")],-1)),t("button",{onClick:e[23]||(e[23]=o=>M.value=!1),class:"text-gray-400 hover:text-gray-600 transition-colors"},e[93]||(e[93]=[t("i",{class:"fas fa-times text-xl"},null,-1)]))]),t("div",bo,[t("div",null,[e[95]||(e[95]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"وصف التصميم المطلوب",-1)),K(t("textarea",{"onUpdate:modelValue":e[24]||(e[24]=o=>y.value=o),placeholder:"اكتب وصفاً مفصلاً للتصميم الذي تريده...",class:"w-full p-4 border border-gray-300 rounded-xl text-sm resize-none focus:ring-2 focus:ring-purple-500 focus:border-transparent",rows:"4"},null,512),[[ge,y.value]])]),t("div",xo,[t("div",null,[e[97]||(e[97]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"نوع التصميم",-1)),K(t("select",{"onUpdate:modelValue":e[25]||(e[25]=o=>Z.value=o),class:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent"},e[96]||(e[96]=[t("option",{value:"card"},"بطاقة",-1),t("option",{value:"poster"},"ملصق",-1),t("option",{value:"banner"},"بانر",-1),t("option",{value:"invitation"},"دعوة",-1)]),512),[[be,Z.value]])]),t("div",null,[e[99]||(e[99]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"الألوان المفضلة",-1)),K(t("select",{"onUpdate:modelValue":e[26]||(e[26]=o=>W.value=o),class:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent"},e[98]||(e[98]=[t("option",{value:"warm"},"ألوان دافئة",-1),t("option",{value:"cool"},"ألوان باردة",-1),t("option",{value:"neutral"},"ألوان محايدة",-1),t("option",{value:"vibrant"},"ألوان زاهية",-1)]),512),[[be,W.value]])])]),t("div",mo,[t("button",{onClick:e[27]||(e[27]=o=>M.value=!1),class:"px-6 py-3 text-gray-600 hover:text-gray-800 transition-colors"}," إلغاء "),t("button",{onClick:ee,disabled:!y.value.trim()||k.value,class:"px-8 py-3 bg-gradient-to-r from-purple-500 to-blue-500 text-white rounded-xl font-medium hover:from-purple-600 hover:to-blue-600 transition-all duration-200 disabled:opacity-50 flex items-center space-x-2 space-x-reverse"},[t("i",{class:u(k.value?"fas fa-spinner fa-spin":"fas fa-magic")},null,2),t("span",null,p(k.value?"جاري الإنشاء...":"إنشاء التصميم"),1)],8,vo)])])])])):b("",!0),ae.value?(c(),d("div",yo,[t("div",ho,[t("div",wo,[e[101]||(e[101]=t("h2",{class:"text-xl font-bold text-gray-800"},"اختصارات لوحة المفاتيح",-1)),t("button",{onClick:e[28]||(e[28]=o=>ae.value=!1),class:"text-gray-400 hover:text-gray-600 transition-colors"},e[100]||(e[100]=[t("i",{class:"fas fa-times"},null,-1)]))]),t("div",ko,[(c(!0),d(D,null,X(ye.value,o=>(c(),d("div",{key:o.key,class:"flex justify-between items-center py-2"},[t("span",Co,p(o.description),1),t("kbd",_o,p(o.key),1)]))),128))])])])):b("",!0)])],64))}},To=Qe(jo,[["__scopeId","data-v-57c3687b"]]);export{To as default};
