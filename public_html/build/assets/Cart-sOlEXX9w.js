import{r as u,m as y,c as r,o as a,a as _,u as l,Z as E,w as j,b as e,t as s,F as V,f as F,n as p,q as D,d as b,i as H,e as M,j as P,v as R,N as k}from"./app-BJSEvLr2.js";import{_ as U}from"./ClientLayout-BKigkkjX.js";import{u as Z}from"./useTranslations-CytgtFYN.js";import"./DropdownLink-BKuK1C9h.js";const G={class:"py-12 bg-gray-50 min-h-screen"},J={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},K={class:"mb-8"},O={class:"text-3xl font-bold text-gray-900"},Q={key:0,class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},W={class:"lg:col-span-2"},X={class:"bg-white rounded-lg shadow-sm"},Y={class:"px-6 py-4 border-b border-gray-200"},ee={class:"text-lg font-semibold text-gray-900"},te={class:"divide-y divide-gray-200"},se={class:"w-24 h-16 bg-gray-100 rounded-lg overflow-hidden flex-shrink-0"},oe={class:"flex-1"},le={class:"text-lg font-semibold text-gray-900"},ne={class:"text-gray-600 text-sm"},re={class:"text-sm text-gray-500"},ae={class:"text-sm text-gray-500"},ie=["onClick","disabled"],de={class:"w-8 text-center font-medium"},ce=["onClick"],ue={class:"text-right"},pe={class:"text-lg font-semibold text-gray-900"},ve={key:0,class:"text-sm text-gray-500"},me=["onClick","title"],xe={class:"mt-6"},fe=["d"],ge={class:"lg:col-span-1"},he={class:"bg-white rounded-lg shadow-sm p-6 sticky top-6"},ye={class:"space-y-4"},_e={class:"flex justify-between"},be={class:"font-medium"},ke={class:"flex justify-between"},we={class:"font-medium"},Ce={key:0,class:"flex justify-between text-green-600"},je={class:"font-medium"},Me={class:"flex justify-between text-lg font-semibold"},qe={class:"mt-6"},Be=["disabled"],ze={key:0,class:"mt-1 text-sm text-red-600"},Se={key:1,class:"mt-1 text-sm text-green-600"},Ve=["disabled"],He={key:1,class:"text-center py-16"},Ie={class:"text-2xl font-semibold text-gray-900 mb-4"},Ae={__name:"Cart",props:{cartItems:{type:Array,default:()=>[]}},setup(I){const q=I,{__:i,isRTL:d}=Z(),v=u(""),x=u(!1),m=u(""),f=u(""),w=u(!1),g=u(0),N=[{id:1,name:"بطاقة عمل احترافية",description:"تصميم أنيق للأعمال",type:"بطاقة عمل",size:"9×5 سم",price:25,quantity:2,preview_background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},{id:2,name:"دعوة زفاف رومانسية",description:"تصميم رومانسي للزفاف",type:"دعوة",size:"14×10 سم",price:15,quantity:1,preview_background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)"}],h=y(()=>q.cartItems.length>0?q.cartItems:N),C=y(()=>h.value.reduce((n,t)=>n+t.price*t.quantity,0)),B=y(()=>C.value*.15),T=y(()=>C.value+B.value-g.value),z=(n,t)=>{t<1||k.patch(route("client.cart.update",n),{quantity:t},{preserveState:!0})},L=n=>{confirm("هل أنت متأكد من إزالة هذا العنصر من السلة؟")&&k.delete(route("client.cart.remove",n),{preserveState:!0})},$=async()=>{if(v.value){x.value=!0,m.value="",f.value="";try{await k.post(route("client.cart.coupon"),{code:v.value},{preserveState:!0,onSuccess:n=>{var t;(t=n.props.flash)!=null&&t.coupon_applied&&(f.value="تم تطبيق كود الخصم بنجاح",g.value=n.props.flash.discount_amount||0)},onError:n=>{m.value=n.code||"كود خصم غير صحيح"}})}catch{m.value="حدث خطأ أثناء تطبيق كود الخصم"}finally{x.value=!1}}},A=()=>{w.value=!0,k.visit(route("client.checkout"))},c=n=>new Intl.NumberFormat("ar-SA").format(n);return(n,t)=>(a(),r(V,null,[_(l(E),{title:l(i)("client.shopping_cart")},null,8,["title"]),_(U,null,{default:j(()=>[e("div",G,[e("div",J,[e("div",K,[e("h1",O,s(l(i)("client.shopping_cart")),1),t[1]||(t[1]=e("p",{class:"mt-2 text-gray-600"},"راجع عناصر سلتك قبل إتمام الشراء",-1))]),h.value.length>0?(a(),r("div",Q,[e("div",W,[e("div",X,[e("div",Y,[e("h2",ee,"عناصر السلة ("+s(h.value.length)+")",1)]),e("div",te,[(a(!0),r(V,null,F(h.value,o=>(a(),r("div",{key:o.id,class:p(["p-6 flex items-center space-x-6",l(d)?"space-x-reverse":""])},[e("div",se,[e("div",{class:"w-full h-full flex items-center justify-center text-xs font-medium",style:D({background:o.preview_background||"#f3f4f6"})},s(o.name),5)]),e("div",oe,[e("h3",le,s(o.name),1),e("p",ne,s(o.description),1),e("div",{class:p(["mt-2 flex items-center space-x-4",l(d)?"space-x-reverse":""])},[e("span",re,"النوع: "+s(o.type),1),e("span",ae,"الحجم: "+s(o.size),1)],2)]),e("div",{class:p(["flex items-center space-x-3",l(d)?"space-x-reverse":""])},[e("button",{onClick:S=>z(o.id,o.quantity-1),disabled:o.quantity<=1,class:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed"},t[2]||(t[2]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 12H4"})],-1)]),8,ie),e("span",de,s(o.quantity),1),e("button",{onClick:S=>z(o.id,o.quantity+1),class:"w-8 h-8 rounded-full border border-gray-300 flex items-center justify-center hover:bg-gray-50"},t[3]||(t[3]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})],-1)]),8,ce)],2),e("div",ue,[e("div",pe,s(c(o.price*o.quantity))+" ريال ",1),o.quantity>1?(a(),r("div",ve,s(c(o.price))+" ريال × "+s(o.quantity),1)):b("",!0)]),e("button",{onClick:S=>L(o.id),class:"text-red-600 hover:text-red-800 p-2",title:l(i)("client.remove_item")},t[4]||(t[4]=[e("svg",{class:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)]),8,me)],2))),128))])]),e("div",xe,[_(l(H),{href:n.route("client.templates"),class:"inline-flex items-center text-blue-600 hover:text-blue-800 font-medium"},{default:j(()=>[(a(),r("svg",{class:p([l(d)?"mr-2":"ml-2","w-5 h-5"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:l(d)?"M9 5l7 7-7 7":"M15 19l-7-7 7-7"},null,8,fe)],2)),M(" "+s(l(i)("client.continue_shopping")),1)]),_:1},8,["href"])])]),e("div",ge,[e("div",he,[t[10]||(t[10]=e("h2",{class:"text-lg font-semibold text-gray-900 mb-6"},"ملخص الطلب",-1)),e("div",ye,[e("div",_e,[t[5]||(t[5]=e("span",{class:"text-gray-600"},"المجموع الفرعي",-1)),e("span",be,s(c(C.value))+" ريال",1)]),e("div",ke,[t[6]||(t[6]=e("span",{class:"text-gray-600"},"الضريبة (15%)",-1)),e("span",we,s(c(B.value))+" ريال",1)]),g.value>0?(a(),r("div",Ce,[t[7]||(t[7]=e("span",null,"الخصم",-1)),e("span",je,"-"+s(c(g.value))+" ريال",1)])):b("",!0),t[8]||(t[8]=e("hr",{class:"my-4"},null,-1)),e("div",Me,[e("span",null,s(l(i)("client.total_price")),1),e("span",null,s(c(T.value))+" ريال",1)])]),e("div",qe,[t[9]||(t[9]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"كود الخصم",-1)),e("div",{class:p(["flex space-x-2",l(d)?"space-x-reverse":""])},[P(e("input",{"onUpdate:modelValue":t[0]||(t[0]=o=>v.value=o),type:"text",placeholder:"أدخل كود الخصم",class:"flex-1 border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[R,v.value]]),e("button",{onClick:$,disabled:!v.value||x.value,class:"bg-gray-600 text-white px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors disabled:opacity-50"},s(x.value?"جاري التطبيق...":"تطبيق"),9,Be)],2),m.value?(a(),r("div",ze,s(m.value),1)):b("",!0),f.value?(a(),r("div",Se,s(f.value),1)):b("",!0)]),e("button",{onClick:A,disabled:w.value,class:"w-full mt-6 bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors disabled:opacity-50"},s(w.value?"جاري المعالجة...":l(i)("client.proceed_checkout")),9,Ve),t[11]||(t[11]=e("div",{class:"mt-4 flex items-center text-sm text-gray-600"},[e("svg",{class:"w-4 h-4 mr-2 text-green-500",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule":"evenodd"})]),M(" دفع آمن ومشفر ")],-1))])])])):(a(),r("div",He,[t[13]||(t[13]=e("svg",{class:"w-24 h-24 text-gray-400 mx-auto mb-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-1.5 6M7 13l-1.5-6m0 0h15.5M17 21a2 2 0 100-4 2 2 0 000 4zM9 21a2 2 0 100-4 2 2 0 000 4z"})],-1)),e("h3",Ie,s(l(i)("client.cart_empty")),1),t[14]||(t[14]=e("p",{class:"text-gray-600 mb-8 max-w-md mx-auto"}," سلة التسوق فارغة. تصفح قوالبنا وأضف التصاميم التي تعجبك. ",-1)),_(l(H),{href:n.route("client.home"),class:"bg-blue-600 text-white px-8 py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors inline-flex items-center"},{default:j(()=>[(a(),r("svg",{class:p([l(d)?"mr-2":"ml-2","w-5 h-5"]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},t[12]||(t[12]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"},null,-1)]),2)),M(" "+s(l(i)("client.continue_shopping")),1)]),_:1},8,["href"])]))])])]),_:1})],64))}};export{Ae as default};
