import{r as g,m as v,c as y,o as f,a as _,u as o,Z as I,w as j,b as e,t as s,h as B,d as S,j as d,bK as h,v as i,F as w,f as D,e as L,N as A}from"./app-BJSEvLr2.js";import{_ as F}from"./ClientLayout-BKigkkjX.js";import{u as P}from"./useTranslations-CytgtFYN.js";import"./DropdownLink-BKuK1C9h.js";const T={class:"py-12 bg-gray-50 min-h-screen"},E={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8"},Y={class:"mb-8"},K={class:"text-3xl font-bold text-gray-900"},O={class:"grid grid-cols-1 lg:grid-cols-2 gap-8"},R={class:"bg-white rounded-lg shadow-sm p-6"},Z={class:"text-lg font-semibold text-gray-900 mb-6"},$={class:"block text-sm font-medium text-gray-700 mb-3"},G={class:"space-y-3"},J={class:"flex items-center p-3 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50"},Q={class:"font-medium"},W={class:"flex items-center p-3 border border-gray-300 rounded-lg cursor-pointer hover:bg-gray-50"},X={class:"font-medium"},ee={key:0,class:"space-y-4"},te={class:"block text-sm font-medium text-gray-700 mb-2"},le={class:"block text-sm font-medium text-gray-700 mb-2"},se={class:"grid grid-cols-2 gap-4"},oe={class:"block text-sm font-medium text-gray-700 mb-2"},re={class:"block text-sm font-medium text-gray-700 mb-2"},ae={class:"text-lg font-semibold text-gray-900 mb-4"},ne={class:"space-y-4"},de={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ie={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ue=["disabled"],me={class:"bg-white rounded-lg shadow-sm p-6 h-fit sticky top-6"},ce={class:"space-y-4 mb-6"},pe={class:"font-medium"},be={class:"text-sm text-gray-600"},ge={class:"font-medium"},ve={class:"space-y-2"},ye={class:"flex justify-between"},fe={class:"flex justify-between"},xe={class:"flex justify-between text-lg font-semibold"},Ne={__name:"Checkout",props:{orderItems:Array,subtotal:Number,tax:Number,total:Number},setup(V){const c=V,{__:r}=P(),p=g(!1),m=g("credit_card"),a=g({name:"",number:"",expiry:"",cvv:""}),n=g({firstName:"",lastName:"",address:"",city:"",zipCode:""}),N=[{id:1,name:"بطاقة عمل احترافية",quantity:2,price:25},{id:2,name:"دعوة زفاف رومانسية",quantity:1,price:15}],k=v(()=>c.orderItems||N),q=v(()=>c.subtotal||65),z=v(()=>c.tax||9.75),C=v(()=>c.total||74.75),U=u=>{var x;let t=u.target.value.replace(/\s/g,"").replace(/[^0-9]/gi,""),l=((x=t.match(/.{1,4}/g))==null?void 0:x.join(" "))||t;a.value.number=l},M=u=>{let t=u.target.value.replace(/\D/g,"");t.length>=2&&(t=t.substring(0,2)+"/"+t.substring(2,4)),a.value.expiry=t},H=async()=>{p.value=!0;try{await A.post(route("client.payment.process"),{payment_method:m.value,card_details:a.value,billing_address:n.value})}catch(u){console.error("Payment error:",u)}finally{p.value=!1}},b=u=>new Intl.NumberFormat("ar-SA").format(u);return(u,t)=>(f(),y(w,null,[_(o(I),{title:o(r)("client.payment_details")},null,8,["title"]),_(F,null,{default:j(()=>[e("div",T,[e("div",E,[e("div",Y,[e("h1",K,s(o(r)("client.complete_payment")),1),t[11]||(t[11]=e("p",{class:"mt-2 text-gray-600"},"أكمل عملية الدفع لإتمام طلبك",-1))]),e("div",O,[e("div",R,[e("h2",Z,s(o(r)("client.payment_details")),1),e("form",{onSubmit:B(H,["prevent"]),class:"space-y-6"},[e("div",null,[e("label",$,s(o(r)("client.payment_method")),1),e("div",G,[e("label",J,[d(e("input",{"onUpdate:modelValue":t[0]||(t[0]=l=>m.value=l),type:"radio",value:"credit_card",class:"mr-3"},null,512),[[h,m.value]]),t[12]||(t[12]=e("svg",{class:"w-6 h-6 mr-3 text-blue-600",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2zm0 2v12h16V6H4zm2 2h12v2H6V8zm0 4h8v2H6v-2z"})],-1)),e("span",Q,s(o(r)("client.credit_card")),1)]),e("label",W,[d(e("input",{"onUpdate:modelValue":t[1]||(t[1]=l=>m.value=l),type:"radio",value:"paypal",class:"mr-3"},null,512),[[h,m.value]]),t[13]||(t[13]=e("svg",{class:"w-6 h-6 mr-3 text-blue-500",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M7.076 21.337H2.47a.641.641 0 0 1-.633-.74L4.944.901C5.026.382 5.474 0 5.998 0h7.46c2.57 0 4.578.543 5.69 1.81 1.01 1.15 1.304 2.42 1.012 4.287-.023.143-.047.288-.077.437-.983 5.05-4.349 6.797-8.647 6.797h-2.19c-.524 0-.968.382-1.05.9l-1.12 7.106zm14.146-14.42a3.35 3.35 0 0 0-.607-.541c-.013.076-.026.175-.041.26-.93 4.778-4.005 6.495-7.974 6.495h-2.19c-.524 0-.968.382-1.05.9L7.076 21.337h4.47a.641.641 0 0 0 .633-.74l.929-5.888c.082-.518.526-.9 1.05-.9h1.121c3.69 0 6.58-1.5 7.42-5.84.345-1.778.208-3.24-.477-4.052z"})],-1)),e("span",X,s(o(r)("client.paypal")),1)])])]),m.value==="credit_card"?(f(),y("div",ee,[e("div",null,[e("label",te,s(o(r)("client.cardholder_name")),1),d(e("input",{"onUpdate:modelValue":t[2]||(t[2]=l=>a.value.name=l),type:"text",required:"",class:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"الاسم كما يظهر على البطاقة"},null,512),[[i,a.value.name]])]),e("div",null,[e("label",le,s(o(r)("client.card_number")),1),d(e("input",{"onUpdate:modelValue":t[3]||(t[3]=l=>a.value.number=l),type:"text",required:"",maxlength:"19",onInput:U,class:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"1234 5678 9012 3456"},null,544),[[i,a.value.number]])]),e("div",se,[e("div",null,[e("label",oe,s(o(r)("client.expiry_date")),1),d(e("input",{"onUpdate:modelValue":t[4]||(t[4]=l=>a.value.expiry=l),type:"text",required:"",maxlength:"5",onInput:M,class:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"MM/YY"},null,544),[[i,a.value.expiry]])]),e("div",null,[e("label",re,s(o(r)("client.cvv")),1),d(e("input",{"onUpdate:modelValue":t[5]||(t[5]=l=>a.value.cvv=l),type:"text",required:"",maxlength:"4",class:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"123"},null,512),[[i,a.value.cvv]])])])])):S("",!0),e("div",null,[e("h3",ae,s(o(r)("client.billing_address")),1),e("div",ne,[e("div",de,[e("div",null,[t[14]||(t[14]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"الاسم الأول",-1)),d(e("input",{"onUpdate:modelValue":t[6]||(t[6]=l=>n.value.firstName=l),type:"text",required:"",class:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[i,n.value.firstName]])]),e("div",null,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"اسم العائلة",-1)),d(e("input",{"onUpdate:modelValue":t[7]||(t[7]=l=>n.value.lastName=l),type:"text",required:"",class:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[i,n.value.lastName]])])]),e("div",null,[t[16]||(t[16]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"العنوان",-1)),d(e("input",{"onUpdate:modelValue":t[8]||(t[8]=l=>n.value.address=l),type:"text",required:"",class:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[i,n.value.address]])]),e("div",ie,[e("div",null,[t[17]||(t[17]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"المدينة",-1)),d(e("input",{"onUpdate:modelValue":t[9]||(t[9]=l=>n.value.city=l),type:"text",required:"",class:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[i,n.value.city]])]),e("div",null,[t[18]||(t[18]=e("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"الرمز البريدي",-1)),d(e("input",{"onUpdate:modelValue":t[10]||(t[10]=l=>n.value.zipCode=l),type:"text",required:"",class:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[i,n.value.zipCode]])])])])]),e("button",{type:"submit",disabled:p.value,class:"w-full bg-blue-600 text-white py-3 rounded-lg font-semibold hover:bg-blue-700 transition-colors disabled:opacity-50"},s(p.value?"جاري المعالجة...":o(r)("client.complete_payment")),9,ue)],32)]),e("div",me,[t[22]||(t[22]=e("h2",{class:"text-lg font-semibold text-gray-900 mb-6"},"ملخص الطلب",-1)),e("div",ce,[(f(!0),y(w,null,D(k.value,l=>(f(),y("div",{key:l.id,class:"flex justify-between"},[e("div",null,[e("div",pe,s(l.name),1),e("div",be,"الكمية: "+s(l.quantity),1)]),e("div",ge,s(b(l.price*l.quantity))+" ريال",1)]))),128))]),t[23]||(t[23]=e("hr",{class:"my-4"},null,-1)),e("div",ve,[e("div",ye,[t[19]||(t[19]=e("span",{class:"text-gray-600"},"المجموع الفرعي",-1)),e("span",null,s(b(q.value))+" ريال",1)]),e("div",fe,[t[20]||(t[20]=e("span",{class:"text-gray-600"},"الضريبة",-1)),e("span",null,s(b(z.value))+" ريال",1)]),e("div",xe,[t[21]||(t[21]=e("span",null,"الإجمالي",-1)),e("span",null,s(b(C.value))+" ريال",1)])]),t[24]||(t[24]=e("div",{class:"mt-6 flex items-center text-sm text-gray-600"},[e("svg",{class:"w-4 h-4 mr-2 text-green-500",fill:"currentColor",viewBox:"0 0 20 20"},[e("path",{"fill-rule":"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule":"evenodd"})]),L(" معلوماتك محمية بتشفير SSL ")],-1))])])])])]),_:1})],64))}};export{Ne as default};
