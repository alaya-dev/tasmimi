import{T as V,r as b,c as i,o as l,a as u,u as r,Z as M,w as n,b as t,h as B,j as g,d,n as c,v as y,t as m,F as v,f as j,k as U,x as F,i as f,e as p}from"./app-BJSEvLr2.js";import{_ as N}from"./AdminLayoutSidebar-B_xNyK73.js";import"./DropdownLink-BKuK1C9h.js";import"./useTranslations-CytgtFYN.js";const q={class:"flex justify-between items-center flex-row-reverse"},z={class:"flex items-center flex-row-reverse"},D={class:"py-12"},T={class:"max-w-4xl mx-auto sm:px-6 lg:px-8"},A={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},G={class:"p-6"},I={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},L={key:0,class:"mt-1 text-sm text-red-600 text-right"},P=["value"],S={key:0,class:"mt-1 text-sm text-red-600 text-right"},R={class:"flex items-center space-x-4 space-x-reverse"},E={class:"flex-1"},H={key:0,class:"w-20 h-20"},J=["src"],Z={key:0,class:"mt-1 text-sm text-red-600 text-right"},$={key:0,class:"mt-1 text-sm text-red-600 text-right"},K={class:"flex items-center justify-end"},O={for:"is_active",class:"flex items-center cursor-pointer"},Q={class:"flex justify-end space-x-4 space-x-reverse pt-6 border-t border-gray-200"},W=["disabled"],X={key:0,class:"animate-spin h-4 w-4 ml-2",fill:"none",viewBox:"0 0 24 24"},se={__name:"Create",props:{categories:Array},setup(h){const s=V({name:"",category_id:"",thumbnail:null,is_active:!0,price:0}),x=b(null),w=b(null),_=a=>{const e=a.target.files[0];if(e){s.thumbnail=e;const o=new FileReader;o.onload=C=>{x.value=C.target.result},o.readAsDataURL(e)}},k=()=>{s.post(route("admin.templates.store"),{forceFormData:!0})};return(a,e)=>(l(),i(v,null,[u(r(M),{title:"إضافة قالب جديد"}),u(N,null,{breadcrumb:n(()=>[u(r(f),{href:a.route("admin.templates.index"),class:"text-gray-500 hover:text-gray-700"},{default:n(()=>e[4]||(e[4]=[p(" إدارة القوالب ")])),_:1,__:[4]},8,["href"]),e[5]||(e[5]=t("svg",{class:"w-5 h-5 text-gray-400 mx-2 rotate-180",fill:"currentColor",viewBox:"0 0 20 20"},[t("path",{"fill-rule":"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z","clip-rule":"evenodd"})],-1)),e[6]||(e[6]=t("span",{class:"text-gray-500"},"إضافة قالب جديد",-1))]),header:n(()=>[t("div",q,[t("div",z,[u(r(f),{href:a.route("admin.templates.index"),class:"ml-4 text-gray-600 hover:text-gray-900 transition-colors duration-200"},{default:n(()=>e[7]||(e[7]=[t("svg",{class:"w-5 h-5 rotate-180",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])),_:1,__:[7]},8,["href"]),e[8]||(e[8]=t("div",{class:"text-right"},[t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"إضافة قالب جديد"),t("p",{class:"mt-1 text-sm text-gray-600"},"إنشاء قالب جديد للبطاقات")],-1))])])]),default:n(()=>[t("div",D,[t("div",T,[t("div",A,[e[20]||(e[20]=t("div",{class:"bg-gradient-to-r from-blue-500 to-purple-600 px-6 py-4 text-right"},[t("h3",{class:"text-lg font-semibold text-white"},"معلومات القالب"),t("p",{class:"text-blue-100 text-sm"},"أدخل تفاصيل القالب الجديد")],-1)),t("div",G,[t("form",{onSubmit:B(k,["prevent"]),class:"space-y-6"},[t("div",I,[t("div",null,[e[9]||(e[9]=t("label",{for:"name",class:"block text-sm font-medium text-gray-700 mb-2 text-right"}," اسم القالب * ",-1)),g(t("input",{id:"name","onUpdate:modelValue":e[0]||(e[0]=o=>r(s).name=o),type:"text",class:c(["w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-right",{"border-red-500":r(s).errors.name}]),required:""},null,2),[[y,r(s).name]]),r(s).errors.name?(l(),i("div",L,m(r(s).errors.name),1)):d("",!0)]),t("div",null,[e[11]||(e[11]=t("label",{for:"category_id",class:"block text-sm font-medium text-gray-700 mb-2 text-right"}," الفئة * ",-1)),g(t("select",{id:"category_id","onUpdate:modelValue":e[1]||(e[1]=o=>r(s).category_id=o),class:c(["w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-right",{"border-red-500":r(s).errors.category_id}]),required:""},[e[10]||(e[10]=t("option",{value:""},"اختر الفئة",-1)),(l(!0),i(v,null,j(h.categories,o=>(l(),i("option",{key:o.id,value:o.id},m(o.name),9,P))),128))],2),[[U,r(s).category_id]]),r(s).errors.category_id?(l(),i("div",S,m(r(s).errors.category_id),1)):d("",!0)])]),t("div",null,[e[13]||(e[13]=t("label",{for:"thumbnail",class:"block text-sm font-medium text-gray-700 mb-2 text-right"}," الصورة المصغرة * ",-1)),t("div",R,[t("div",E,[t("input",{id:"thumbnail",ref_key:"thumbnailInput",ref:w,type:"file",accept:"image/*",onChange:_,class:c(["w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",{"border-red-500":r(s).errors.thumbnail}]),required:""},null,34),e[12]||(e[12]=t("p",{class:"mt-1 text-sm text-gray-500 text-right"}," JPG, PNG, GIF حتى 2MB ",-1))]),x.value?(l(),i("div",H,[t("img",{src:x.value,alt:"معاينة الصورة",class:"w-full h-full object-cover rounded-lg border-2 border-gray-200"},null,8,J)])):d("",!0)]),r(s).errors.thumbnail?(l(),i("div",Z,m(r(s).errors.thumbnail),1)):d("",!0)]),t("div",null,[e[14]||(e[14]=t("label",{for:"price",class:"block text-sm font-medium text-gray-700 mb-2 text-right"}," سعر القالب (ريال سعودي) * ",-1)),g(t("input",{id:"price","onUpdate:modelValue":e[2]||(e[2]=o=>r(s).price=o),type:"number",step:"0.01",min:"0",max:"9999.99",class:c(["w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-right",{"border-red-500":r(s).errors.price}]),placeholder:"0.00",required:""},null,2),[[y,r(s).price]]),e[15]||(e[15]=t("p",{class:"mt-1 text-sm text-gray-500 text-right"}," أدخل سعر القالب بالريال السعودي (0 للمجاني) ",-1)),r(s).errors.price?(l(),i("div",$,m(r(s).errors.price),1)):d("",!0)]),t("div",K,[t("label",O,[g(t("input",{id:"is_active","onUpdate:modelValue":e[3]||(e[3]=o=>r(s).is_active=o),type:"checkbox",class:"rounded border-gray-300 text-indigo-600 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50"},null,512),[[F,r(s).is_active]]),e[16]||(e[16]=t("span",{class:"mr-2 text-sm text-gray-700"},"تفعيل القالب",-1))])]),t("div",Q,[u(r(f),{href:a.route("admin.templates.index"),class:"inline-flex items-center px-4 py-2 bg-gray-300 border border-transparent rounded-md font-semibold text-xs text-gray-700 uppercase tracking-widest hover:bg-gray-400 focus:bg-gray-400 active:bg-gray-500 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 transition ease-in-out duration-150"},{default:n(()=>e[17]||(e[17]=[p(" إلغاء ")])),_:1,__:[17]},8,["href"]),t("button",{type:"submit",disabled:r(s).processing,class:"inline-flex items-center px-4 py-2 bg-indigo-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-indigo-700 focus:bg-indigo-700 active:bg-indigo-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition ease-in-out duration-150 disabled:opacity-50"},[r(s).processing?(l(),i("svg",X,e[18]||(e[18]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):d("",!0),e[19]||(e[19]=p(" إنشاء القالب "))],8,W)])],32)])])])])]),_:1})],64))}};export{se as default};
