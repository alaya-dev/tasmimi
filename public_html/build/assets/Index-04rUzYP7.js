import{m as q,l as X,r as h,T as Y,c as n,o,a as P,u as a,Z as tt,w as k,b as t,d as g,t as i,h as E,j as y,v as L,F as C,f as z,k as T,e as m,n as M,g as D,i as S,N as j}from"./app-BJSEvLr2.js";import{_ as et}from"./AdminLayoutSidebar-B_xNyK73.js";import"./DropdownLink-BKuK1C9h.js";import"./useTranslations-CytgtFYN.js";const st={class:"flex items-center justify-between flex-row-reverse"},lt={class:"py-12"},ot={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},it={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6"},rt={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},nt={class:"p-6"},at={class:"flex items-center"},dt={class:"mr-4"},mt={class:"text-2xl font-bold text-gray-900"},ct={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},ut={class:"p-6"},gt={class:"flex items-center"},xt={class:"mr-4"},vt={class:"text-2xl font-bold text-gray-900"},ft={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},pt={class:"p-6"},bt={class:"flex items-center"},ht={class:"mr-4"},yt={class:"text-2xl font-bold text-gray-900"},wt={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg"},_t={class:"p-6"},kt={class:"flex items-center"},Ct={class:"mr-4"},jt={class:"text-2xl font-bold text-gray-900"},zt={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg mb-6"},Mt={class:"p-6"},Vt=["value"],Bt={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},Ht={class:"overflow-x-auto"},Lt={class:"min-w-full divide-y divide-gray-200"},Tt={class:"bg-white divide-y divide-gray-200"},Dt={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-right"},St={class:"flex items-center flex-row-reverse"},Ft={class:"font-medium"},Ut={class:"text-xs text-gray-500"},$t={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center"},At={class:"inline-flex px-3 py-1 text-xs font-semibold rounded-full bg-purple-100 text-purple-800"},Nt={class:"px-6 py-4 whitespace-nowrap text-center"},qt={class:"flex justify-center"},Pt=["src","alt"],Et={key:1,class:"w-16 h-16 bg-gray-200 rounded-lg flex items-center justify-center"},Gt={class:"px-6 py-4 whitespace-nowrap text-center"},It=["onClick"],Ot={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-center"},Rt={class:"flex justify-center space-x-2 space-x-reverse"},Jt=["onClick"],Wt=["onClick"],Zt=["href"],Kt=["onClick"],Qt={key:0,class:"bg-white px-4 py-3 border-t border-gray-200 sm:px-6"},Xt={class:"flex items-center justify-between"},Yt={class:"flex-1 flex justify-between sm:hidden"},te={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},ee={class:"text-sm text-gray-700"},se={class:"font-medium"},le={class:"font-medium"},oe={class:"font-medium"},ie={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},re={key:0,class:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},ne={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},ae={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full"},de={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},me={class:"sm:flex sm:items-start"},ce={class:"mt-3 text-center sm:mt-0 sm:text-left w-full"},ue={key:0,class:"space-y-6"},ge={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},xe={class:"text-right"},ve={class:"text-lg font-semibold text-gray-900"},fe={class:"text-right"},pe={class:"inline-flex px-3 py-1 text-sm font-semibold rounded-full bg-purple-100 text-purple-800"},be={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},he={class:"text-right"},ye={class:"text-right"},we={class:"text-gray-900"},_e={class:"text-right"},ke={class:"flex justify-end"},Ce=["src","alt"],je={key:1,class:"w-32 h-32 bg-gray-200 rounded-lg flex items-center justify-center"},ze={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Me={class:"text-right"},Ve={class:"text-gray-900"},Be={class:"text-right"},He={class:"text-gray-900"},Le={key:1,class:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",dir:"rtl"},Te={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},De={class:"inline-block align-bottom bg-white rounded-lg text-right overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full"},Se={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},Fe={class:"sm:flex sm:items-start"},Ue={class:"mt-3 text-center sm:mt-0 sm:text-right w-full"},$e={class:"text-lg leading-6 font-medium text-gray-900 text-right mb-4",id:"modal-title"},Ae={key:0,class:"mt-1 text-sm text-red-600 text-right"},Ne=["value"],qe={key:0,class:"mt-1 text-sm text-red-600 text-right"},Pe={key:0},Ee={class:"flex justify-end mb-2"},Ge=["src","alt"],Ie={class:"mb-3",style:{"text-align":"right !important"}},Oe={for:"template_thumbnail",class:"text-sm font-medium text-gray-700",style:{"text-align":"right !important",display:"block"}},Re={class:"flex items-center space-x-4 space-x-reverse"},Je=["required"],We={key:0,class:"w-16 h-16"},Ze=["src"],Ke={key:0,class:"mt-1 text-sm text-red-600 text-right"},Qe={key:0,class:"mt-1 text-sm text-red-600 text-right"},Xe={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},Ye=["disabled"],ts={key:0,class:"animate-spin h-4 w-4 ml-2",fill:"none",viewBox:"0 0 24 24"},is={__name:"Index",props:{templates:Object,categories:Array,filters:Object},setup(d){var $,A,N;const w=d,G=q(()=>{var r;return((r=w.templates.data)==null?void 0:r.filter(e=>e.is_active).length)||0}),I=q(()=>{var e;const r=new Date;return r.setDate(r.getDate()-7),((e=w.templates.data)==null?void 0:e.filter(x=>new Date(x.updated_at)>=r).length)||0}),c=X({search:(($=w.filters)==null?void 0:$.search)||"",category:((A=w.filters)==null?void 0:A.category)||"",status:((N=w.filters)==null?void 0:N.status)||""}),v=h(!1),p=h(!1),V=h(!1),f=h(null),u=h(null),l=Y({name:"",category_id:"",thumbnail:null,price:0,_method:null}),_=h(null),B=()=>{j.get(route("admin.templates.index"),c,{preserveState:!0,replace:!0})},O=()=>{c.search="",c.category="",c.status="",B()},R=r=>{j.patch(route("admin.templates.toggle-status",r.id))},J=r=>{confirm("هل أنت متأكد من حذف هذا القالب؟")&&j.delete(route("admin.templates.destroy",r.id))},F=r=>new Date(r).toLocaleDateString("en-GB"),W=r=>{u.value=r,V.value=!0},Z=r=>{f.value=r,l.clearErrors(),l.name=r.name||"",l.category_id=r.category_id?r.category_id.toString():"",l.price=r.price||0,l.thumbnail=null,_.value=null,p.value=!0},b=()=>{v.value=!1,p.value=!1,V.value=!1,f.value=null,u.value=null,l.reset(),l.clearErrors(),_.value=null},U=()=>{v.value?l.post(route("admin.templates.store"),{forceFormData:!0,onSuccess:()=>{b(),j.reload()}}):p.value&&(console.log("Données du formulaire avant envoi:",{name:l.name,category_id:l.category_id,thumbnail:l.thumbnail}),l._method="PUT",l.post(route("admin.templates.update",f.value.id),{forceFormData:!0,onSuccess:()=>{b(),j.reload()}}))},K=r=>{const e=r.target.files[0];if(e){l.thumbnail=e;const x=new FileReader;x.onload=s=>{_.value=s.target.result},x.readAsDataURL(e)}},Q=()=>{c.search="",c.category="",c.status="",B()};return(r,e)=>(o(),n(C,null,[P(a(tt),{title:"إدارة القوالب"}),P(et,null,{breadcrumb:k(()=>e[7]||(e[7]=[t("span",{class:"text-gray-500"},"إدارة القوالب",-1)])),header:k(()=>[t("div",st,[e[8]||(e[8]=t("div",{class:"flex items-center flex-row-reverse"},[t("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"إدارة القوالب")],-1)),t("button",{onClick:e[0]||(e[0]=x=>v.value=!0),class:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded"}," إضافة قالب جديد ")])]),default:k(()=>{var x;return[t("div",lt,[t("div",ot,[t("div",it,[t("div",rt,[t("div",nt,[t("div",at,[e[10]||(e[10]=t("div",{class:"flex-shrink-0"},[t("div",{class:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center"},[t("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})])])],-1)),t("div",dt,[e[9]||(e[9]=t("div",{class:"text-sm font-medium text-gray-500"},"إجمالي القوالب",-1)),t("div",mt,i(d.templates.total||0),1)])])])]),t("div",ct,[t("div",ut,[t("div",gt,[e[12]||(e[12]=t("div",{class:"flex-shrink-0"},[t("div",{class:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center"},[t("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1)),t("div",xt,[e[11]||(e[11]=t("div",{class:"text-sm font-medium text-gray-500"},"القوالب النشطة",-1)),t("div",vt,i(G.value),1)])])])]),t("div",ft,[t("div",pt,[t("div",bt,[e[14]||(e[14]=t("div",{class:"flex-shrink-0"},[t("div",{class:"w-8 h-8 bg-purple-500 rounded-full flex items-center justify-center"},[t("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})])])],-1)),t("div",ht,[e[13]||(e[13]=t("div",{class:"text-sm font-medium text-gray-500"},"الفئات",-1)),t("div",yt,i(d.categories.length),1)])])])]),t("div",wt,[t("div",_t,[t("div",kt,[e[16]||(e[16]=t("div",{class:"flex-shrink-0"},[t("div",{class:"w-8 h-8 bg-yellow-500 rounded-full flex items-center justify-center"},[t("svg",{class:"w-4 h-4 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])])],-1)),t("div",Ct,[e[15]||(e[15]=t("div",{class:"text-sm font-medium text-gray-500"},"محدثة مؤخراً",-1)),t("div",jt,i(I.value),1)])])])])]),t("div",zt,[t("div",Mt,[t("div",{class:"flex items-center justify-between mb-4"},[e[17]||(e[17]=t("h3",{class:"text-lg font-medium text-gray-900"},"البحث والتصفية",-1)),t("button",{onClick:Q,class:"text-sm text-gray-500 hover:text-gray-700"}," إعادة تعيين المرشحات ")]),t("form",{onSubmit:E(B,["prevent"]),class:"grid grid-cols-1 md:grid-cols-4 gap-4"},[t("div",null,[e[18]||(e[18]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"البحث",-1)),y(t("input",{"onUpdate:modelValue":e[1]||(e[1]=s=>c.search=s),type:"text",placeholder:"بحث بالاسم...",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-right"},null,512),[[L,c.search]])]),t("div",null,[e[20]||(e[20]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"الفئة",-1)),y(t("select",{"onUpdate:modelValue":e[2]||(e[2]=s=>c.category=s),class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-right"},[e[19]||(e[19]=t("option",{value:""},"جميع الفئات",-1)),(o(!0),n(C,null,z(d.categories,s=>(o(),n("option",{key:s.id,value:s.id},i(s.name),9,Vt))),128))],512),[[T,c.category]])]),t("div",null,[e[22]||(e[22]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"الحالة",-1)),y(t("select",{"onUpdate:modelValue":e[3]||(e[3]=s=>c.status=s),class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 text-right"},e[21]||(e[21]=[t("option",{value:""},"جميع الحالات",-1),t("option",{value:"active"},"مفعل",-1),t("option",{value:"inactive"},"غير مفعل",-1)]),512),[[T,c.status]])]),e[23]||(e[23]=t("button",{type:"submit",class:"bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded"}," بحث ",-1)),t("button",{type:"button",onClick:O,class:"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded"}," مسح ")],32)])]),t("div",Bt,[e[37]||(e[37]=t("div",{class:"bg-gradient-to-r from-blue-500 to-purple-600 px-6 py-4 text-center"},[t("h3",{class:"text-lg font-semibold text-white"},"القوالب"),t("p",{class:"text-blue-100 text-sm"},"إدارة وتنظيم جميع قوالب البطاقات")],-1)),t("div",Ht,[t("table",Lt,[e[30]||(e[30]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-4 text-xs font-semibold text-gray-600 uppercase tracking-wider text-right"},[t("div",{class:"flex items-center flex-row-reverse"},[t("svg",{class:"w-4 h-4 ml-2",fill:"currentColor",viewBox:"0 0 24 24"},[t("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"})]),m(" اسم القالب ")])]),t("th",{class:"px-6 py-4 text-xs font-semibold text-gray-600 uppercase tracking-wider text-center"},[t("div",{class:"flex items-center justify-center"},[t("svg",{class:"w-4 h-4 ml-2",fill:"currentColor",viewBox:"0 0 24 24"},[t("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})]),m(" الفئة ")])]),t("th",{class:"px-6 py-4 text-xs font-semibold text-gray-600 uppercase tracking-wider text-center"},[t("div",{class:"flex items-center justify-center"},[t("svg",{class:"w-4 h-4 ml-2",fill:"currentColor",viewBox:"0 0 24 24"},[t("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"})]),m(" الصورة المصغرة ")])]),t("th",{class:"px-6 py-4 text-xs font-semibold text-gray-600 uppercase tracking-wider text-center"},[t("div",{class:"flex items-center justify-center"},[t("svg",{class:"w-4 h-4 ml-2",fill:"currentColor",viewBox:"0 0 24 24"},[t("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})]),m(" الحالة ")])]),t("th",{class:"px-6 py-4 text-xs font-semibold text-gray-600 uppercase tracking-wider text-center"}," الإجراءات ")])],-1)),t("tbody",Tt,[(o(!0),n(C,null,z(d.templates.data,s=>(o(),n("tr",{key:s.id,class:"hover:bg-gray-50 transition-colors duration-200"},[t("td",Dt,[t("div",St,[e[24]||(e[24]=t("div",{class:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center ml-3"},[t("svg",{class:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 24 24"},[t("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"})])],-1)),t("div",null,[t("div",Ft,i(s.name),1),t("div",Ut,"بواسطة: "+i(s.creator.email),1)])])]),t("td",$t,[t("span",At,i(s.category.name),1)]),t("td",Nt,[t("div",qt,[s.thumbnail_url?(o(),n("img",{key:0,src:s.thumbnail_url,alt:s.name,class:"w-16 h-16 object-cover rounded-lg border-2 border-gray-200"},null,8,Pt)):(o(),n("div",Et,e[25]||(e[25]=[t("svg",{class:"w-8 h-8 text-gray-400",fill:"currentColor",viewBox:"0 0 24 24"},[t("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"})],-1)])))])]),t("td",Gt,[t("button",{onClick:H=>R(s),class:M(["inline-flex px-3 py-1 text-xs font-semibold rounded-full transition-colors duration-200",s.is_active?"bg-green-100 text-green-800 hover:bg-green-200":"bg-red-100 text-red-800 hover:bg-red-200"])},i(s.is_active?"مفعل":"غير مفعل"),11,It)]),t("td",Ot,[t("div",Rt,[t("button",{onClick:H=>W(s),class:"inline-flex items-center px-3 py-1 bg-green-100 text-green-700 rounded-md hover:bg-green-200 transition-colors duration-200"},e[26]||(e[26]=[t("svg",{class:"w-4 h-4 ml-1",fill:"currentColor",viewBox:"0 0 24 24"},[t("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})],-1),m(" تفاصيل ")]),8,Jt),t("button",{onClick:H=>Z(s),class:"inline-flex items-center px-3 py-1 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200"},e[27]||(e[27]=[t("svg",{class:"w-4 h-4 ml-1",fill:"currentColor",viewBox:"0 0 24 24"},[t("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"})],-1),m(" تعديل ")]),8,Wt),t("a",{href:`/admin/templates/${s.id}/design`,class:"inline-flex items-center px-3 py-1 bg-purple-100 text-purple-700 rounded-md hover:bg-purple-200 transition-colors duration-200"},e[28]||(e[28]=[t("svg",{class:"w-4 h-4 ml-1",fill:"currentColor",viewBox:"0 0 24 24"},[t("path",{d:"M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zM21 5a2 2 0 00-2-2h-4a2 2 0 00-2 2v12a4 4 0 004 4h4a2 2 0 002-2V5z"})],-1),m(" محرر التصميم ")]),8,Zt),t("button",{onClick:H=>J(s),class:"inline-flex items-center px-3 py-1 bg-red-100 text-red-700 rounded-md hover:bg-red-200 transition-colors duration-200"},e[29]||(e[29]=[t("svg",{class:"w-4 h-4 ml-1",fill:"currentColor",viewBox:"0 0 24 24"},[t("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})],-1),m(" حذف ")]),8,Kt)])])]))),128))])])]),d.templates.links?(o(),n("div",Qt,[t("div",Xt,[t("div",Yt,[d.templates.prev_page_url?(o(),D(a(S),{key:0,href:d.templates.prev_page_url,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"},{default:k(()=>e[31]||(e[31]=[m(" السابق ")])),_:1,__:[31]},8,["href"])):g("",!0),d.templates.next_page_url?(o(),D(a(S),{key:1,href:d.templates.next_page_url,class:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"},{default:k(()=>e[32]||(e[32]=[m(" التالي ")])),_:1,__:[32]},8,["href"])):g("",!0)]),t("div",te,[t("div",null,[t("p",ee,[e[33]||(e[33]=m(" عرض ")),t("span",se,i(d.templates.from),1),e[34]||(e[34]=m(" إلى ")),t("span",le,i(d.templates.to),1),e[35]||(e[35]=m(" من ")),t("span",oe,i(d.templates.total),1),e[36]||(e[36]=m(" نتيجة "))])]),t("div",null,[t("nav",ie,[(o(!0),n(C,null,z(d.templates.links,s=>(o(),D(a(S),{key:s.label,href:s.url,innerHTML:s.label,class:M(["relative inline-flex items-center px-4 py-2 border text-sm font-medium",s.active?"z-10 bg-indigo-50 border-indigo-500 text-indigo-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50",s.url?"cursor-pointer":"cursor-default opacity-50"])},null,8,["href","innerHTML","class"]))),128))])])])])])):g("",!0)])])]),V.value?(o(),n("div",re,[t("div",ne,[t("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:b}),e[47]||(e[47]=t("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},"​",-1)),t("div",ae,[t("div",de,[t("div",me,[t("div",ce,[e[46]||(e[46]=t("h3",{class:"text-lg leading-6 font-medium text-gray-900 text-right mb-4",id:"modal-title"}," تفاصيل القالب ",-1)),u.value?(o(),n("div",ue,[t("div",ge,[t("div",xe,[e[38]||(e[38]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"اسم القالب",-1)),t("p",ve,i(u.value.name),1)]),t("div",fe,[e[39]||(e[39]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"الفئة",-1)),t("span",pe,i(u.value.category.name),1)])]),t("div",be,[t("div",he,[e[40]||(e[40]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"الحالة",-1)),t("span",{class:M(["inline-flex px-3 py-1 text-sm font-semibold rounded-full",u.value.is_active?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},i(u.value.is_active?"مفعل":"غير مفعل"),3)]),t("div",ye,[e[41]||(e[41]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"منشئ القالب",-1)),t("p",we,i(u.value.creator.email),1)])]),t("div",_e,[e[43]||(e[43]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"الصورة المصغرة",-1)),t("div",ke,[u.value.thumbnail_url?(o(),n("img",{key:0,src:u.value.thumbnail_url,alt:u.value.name,class:"w-32 h-32 object-cover rounded-lg border-2 border-gray-200"},null,8,Ce)):(o(),n("div",je,e[42]||(e[42]=[t("svg",{class:"w-12 h-12 text-gray-400",fill:"currentColor",viewBox:"0 0 24 24"},[t("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"})],-1)])))])]),t("div",ze,[t("div",Me,[e[44]||(e[44]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"تاريخ الإنشاء",-1)),t("p",Ve,i(F(u.value.created_at)),1)]),t("div",Be,[e[45]||(e[45]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},"تاريخ آخر تحديث",-1)),t("p",He,i(F(u.value.updated_at)),1)])])])):g("",!0)])])]),t("div",{class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},[t("button",{type:"button",onClick:b,class:"w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:w-auto sm:text-sm"}," إغلاق ")])])])])):g("",!0),v.value||p.value?(o(),n("div",Le,[t("div",Te,[t("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:b}),e[56]||(e[56]=t("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},"​",-1)),t("div",De,[t("div",Se,[t("div",Fe,[t("div",Ue,[t("h3",$e,i(v.value?"إضافة قالب جديد":"تعديل القالب"),1),t("form",{onSubmit:E(U,["prevent"]),class:"space-y-4"},[t("div",null,[e[48]||(e[48]=t("div",{class:"mb-3",style:{"text-align":"right !important"}},[t("label",{for:"template_name",class:"text-sm font-medium text-gray-700",style:{"text-align":"right !important",display:"block"}}," اسم القالب * ")],-1)),y(t("input",{id:"template_name","onUpdate:modelValue":e[4]||(e[4]=s=>a(l).name=s),type:"text",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",style:{"text-align":"right !important",direction:"rtl !important"},required:""},null,512),[[L,a(l).name]]),a(l).errors.name?(o(),n("div",Ae,i(a(l).errors.name),1)):g("",!0)]),t("div",null,[e[50]||(e[50]=t("div",{class:"mb-3",style:{"text-align":"right !important"}},[t("label",{for:"template_category",class:"text-sm font-medium text-gray-700",style:{"text-align":"right !important",display:"block"}}," الفئة * ")],-1)),y(t("select",{id:"template_category","onUpdate:modelValue":e[5]||(e[5]=s=>a(l).category_id=s),class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",style:{"text-align":"right !important",direction:"rtl !important"},required:""},[e[49]||(e[49]=t("option",{value:""},"اختر الفئة",-1)),(o(!0),n(C,null,z(d.categories,s=>(o(),n("option",{key:s.id,value:s.id},i(s.name),9,Ne))),128))],512),[[T,a(l).category_id]]),a(l).errors.category_id?(o(),n("div",qe,i(a(l).errors.category_id),1)):g("",!0)]),p.value&&((x=f.value)!=null&&x.thumbnail)?(o(),n("div",Pe,[e[51]||(e[51]=t("div",{class:"mb-3",style:{"text-align":"right !important"}},[t("label",{class:"text-sm font-medium text-gray-700",style:{"text-align":"right !important",display:"block"}}," الصورة المصغرة الحالية ")],-1)),t("div",Ee,[t("img",{src:f.value.thumbnail_url||`/storage/${f.value.thumbnail}`,alt:f.value.name,class:"w-20 h-20 object-cover rounded-lg border-2 border-gray-200"},null,8,Ge)])])):g("",!0),t("div",null,[t("div",Ie,[t("label",Oe,i(p.value?"تغيير الصورة المصغرة":"الصورة المصغرة *"),1)]),t("div",Re,[t("input",{id:"template_thumbnail",type:"file",accept:"image/*",onChange:K,class:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",required:v.value},null,40,Je),_.value?(o(),n("div",We,[t("img",{src:_.value,alt:"معاينة الصورة",class:"w-full h-full object-cover rounded-lg border-2 border-gray-200"},null,8,Ze)])):g("",!0)]),e[52]||(e[52]=t("p",{class:"mt-1 text-sm text-gray-500 text-right"}," JPG, PNG, GIF حتى 2MB ",-1)),a(l).errors.thumbnail?(o(),n("div",Ke,i(a(l).errors.thumbnail),1)):g("",!0)]),t("div",null,[e[53]||(e[53]=t("div",{class:"mb-3",style:{"text-align":"right !important"}},[t("label",{for:"template_price",class:"text-sm font-medium text-gray-700",style:{"text-align":"right !important",display:"block"}}," سعر القالب (ريال سعودي) * ")],-1)),y(t("input",{id:"template_price","onUpdate:modelValue":e[6]||(e[6]=s=>a(l).price=s),type:"number",step:"0.01",min:"0",max:"9999.99",class:M(["w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",{"border-red-500":a(l).errors.price}]),style:{"text-align":"right !important",direction:"rtl !important"},placeholder:"0.00",required:""},null,2),[[L,a(l).price]]),e[54]||(e[54]=t("p",{class:"mt-1 text-sm text-gray-500 text-right"}," أدخل سعر القالب بالريال السعودي (0 للمجاني) ",-1)),a(l).errors.price?(o(),n("div",Qe,i(a(l).errors.price),1)):g("",!0)])],32)])])]),t("div",Xe,[t("button",{type:"submit",onClick:U,disabled:a(l).processing,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50"},[a(l).processing?(o(),n("svg",ts,e[55]||(e[55]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):g("",!0),m(" "+i(v.value?"حفظ":"تحديث"),1)],8,Ye),t("button",{type:"button",onClick:b,class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," إلغاء ")])])])])):g("",!0)]}),_:1})],64))}};export{is as default};
