import{r as v,T as V,c,o,a as _,u as n,Z as H,w as x,b as e,d as u,e as i,F as h,f as k,t as a,g as b,i as y,n as j,h as B,j as N,v as D,N as S}from"./app-BJSEvLr2.js";import{_ as T}from"./AdminLayoutSidebar-B_xNyK73.js";import"./DropdownLink-BKuK1C9h.js";import"./useTranslations-CytgtFYN.js";const $={class:"flex items-center justify-between flex-row-reverse"},E={class:"py-12"},F={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},q={class:"bg-white overflow-hidden shadow-xl sm:rounded-lg"},A={class:"overflow-x-auto"},G={class:"min-w-full divide-y divide-gray-200"},I={class:"bg-white divide-y divide-gray-200"},O={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-right"},P={class:"flex items-center flex-row-reverse"},U={class:"font-medium"},Z={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center"},J={class:"inline-flex px-3 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800"},K={class:"px-6 py-4 whitespace-nowrap text-sm text-gray-500 text-center"},Q={class:"px-6 py-4 whitespace-nowrap text-sm font-medium text-center"},R={class:"flex justify-center space-x-3 space-x-reverse"},W=["onClick"],X=["onClick","disabled","title"],Y={key:0,class:"bg-white px-4 py-3 border-t border-gray-200 sm:px-6"},ee={class:"flex items-center justify-between"},te={class:"flex-1 flex justify-between sm:hidden"},se={class:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between"},ie={class:"text-sm text-gray-700"},le={class:"font-medium"},oe={class:"font-medium"},re={class:"font-medium"},ne={class:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination"},ae={key:0,class:"fixed inset-0 z-50 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",dir:"rtl"},de={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},ce={class:"inline-block align-bottom bg-white rounded-lg text-right overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},me={class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},ue={class:"sm:flex sm:items-start"},xe={class:"mt-3 text-center sm:mt-0 sm:text-right w-full"},ge={class:"text-lg leading-6 font-medium text-gray-900 text-right mb-4",id:"modal-title"},fe={key:0,class:"mt-1 text-sm text-red-600 text-right"},pe={class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse"},ve=["disabled"],he={key:0,class:"animate-spin h-4 w-4 ml-2",fill:"none",viewBox:"0 0 24 24"},ke={__name:"Index",props:{categories:Object},setup(r){const m=v(!1),g=v(!1),p=v(null),l=V({name:""}),C=d=>{p.value=d,l.name=d.name,g.value=!0},f=()=>{m.value=!1,g.value=!1,p.value=null,l.reset(),l.clearErrors()},w=()=>{m.value?l.post(route("admin.categories.store"),{onSuccess:()=>f()}):g.value&&l.put(route("admin.categories.update",p.value.id),{onSuccess:()=>f()})},z=d=>{if(d.templates_count>0){alert("لا يمكن حذف فئة تحتوي على قوالب");return}confirm("هل أنت متأكد من حذف هذه الفئة؟")&&S.delete(route("admin.categories.destroy",d.id))},M=d=>new Date(d).toLocaleDateString("en-GB");return(d,t)=>(o(),c(h,null,[_(n(H),{title:"إدارة الفئات"}),_(T,null,{breadcrumb:x(()=>t[2]||(t[2]=[e("span",{class:"text-gray-500"},"إدارة الفئات",-1)])),header:x(()=>[e("div",$,[t[3]||(t[3]=e("div",{class:"flex items-center flex-row-reverse"},[e("h2",{class:"font-semibold text-xl text-gray-800 leading-tight"},"إدارة الفئات")],-1)),e("button",{onClick:t[0]||(t[0]=s=>m.value=!0),class:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded"}," إضافة فئة جديدة ")])]),default:x(()=>[e("div",E,[e("div",F,[e("div",q,[t[14]||(t[14]=e("div",{class:"bg-gradient-to-r from-blue-500 to-purple-600 px-6 py-4 text-center"},[e("h3",{class:"text-lg font-semibold text-white"},"الفئات"),e("p",{class:"text-blue-100 text-sm"},"إدارة وتنظيم جميع فئات القوالب")],-1)),e("div",A,[e("table",G,[t[7]||(t[7]=e("thead",{class:"bg-gray-50"},[e("tr",null,[e("th",{class:"px-6 py-4 text-xs font-semibold text-gray-600 uppercase tracking-wider text-right"},[e("div",{class:"flex items-center flex-row-reverse"},[e("svg",{class:"w-4 h-4 ml-2",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})]),i(" اسم الفئة ")])]),e("th",{class:"px-6 py-4 text-xs font-semibold text-gray-600 uppercase tracking-wider text-center"},[e("div",{class:"flex items-center justify-center"},[e("svg",{class:"w-4 h-4 ml-2",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"})]),i(" عدد القوالب ")])]),e("th",{class:"px-6 py-4 text-xs font-semibold text-gray-600 uppercase tracking-wider text-center"},[e("div",{class:"flex items-center justify-center"},[e("svg",{class:"w-4 h-4 ml-2",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.1 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"})]),i(" تاريخ الإنشاء ")])]),e("th",{class:"px-6 py-4 text-xs font-semibold text-gray-600 uppercase tracking-wider text-center"}," الإجراءات ")])],-1)),e("tbody",I,[(o(!0),c(h,null,k(r.categories.data,s=>(o(),c("tr",{key:s.id,class:"hover:bg-gray-50 transition-colors duration-200"},[e("td",O,[e("div",P,[t[4]||(t[4]=e("div",{class:"w-8 h-8 bg-gradient-to-r from-blue-500 to-purple-600 rounded-lg flex items-center justify-center ml-3"},[e("svg",{class:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})])],-1)),e("span",U,a(s.name),1)])]),e("td",Z,[e("span",J,a(s.templates_count)+" قالب ",1)]),e("td",K,a(M(s.created_at)),1),e("td",Q,[e("div",R,[e("button",{onClick:L=>C(s),class:"inline-flex items-center px-3 py-1 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200"},t[5]||(t[5]=[e("svg",{class:"w-4 h-4 ml-1",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"})],-1),i(" تعديل ")]),8,W),e("button",{onClick:L=>z(s),disabled:s.templates_count>0,class:"inline-flex items-center px-3 py-1 bg-red-100 text-red-700 rounded-md hover:bg-red-200 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed",title:s.templates_count>0?"لا يمكن حذف فئة تحتوي على قوالب":""},t[6]||(t[6]=[e("svg",{class:"w-4 h-4 ml-1",fill:"currentColor",viewBox:"0 0 24 24"},[e("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"})],-1),i(" حذف ")]),8,X)])])]))),128))])])]),r.categories.links?(o(),c("div",Y,[e("div",ee,[e("div",te,[r.categories.prev_page_url?(o(),b(n(y),{key:0,href:r.categories.prev_page_url,class:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"},{default:x(()=>t[8]||(t[8]=[i(" السابق ")])),_:1,__:[8]},8,["href"])):u("",!0),r.categories.next_page_url?(o(),b(n(y),{key:1,href:r.categories.next_page_url,class:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50"},{default:x(()=>t[9]||(t[9]=[i(" التالي ")])),_:1,__:[9]},8,["href"])):u("",!0)]),e("div",se,[e("div",null,[e("p",ie,[t[10]||(t[10]=i(" عرض ")),e("span",le,a(r.categories.from),1),t[11]||(t[11]=i(" إلى ")),e("span",oe,a(r.categories.to),1),t[12]||(t[12]=i(" من ")),e("span",re,a(r.categories.total),1),t[13]||(t[13]=i(" نتيجة "))])]),e("div",null,[e("nav",ne,[(o(!0),c(h,null,k(r.categories.links,s=>(o(),b(n(y),{key:s.label,href:s.url,innerHTML:s.label,class:j(["relative inline-flex items-center px-4 py-2 border text-sm font-medium",s.active?"z-10 bg-indigo-50 border-indigo-500 text-indigo-600":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50",s.url?"cursor-pointer":"cursor-default opacity-50"])},null,8,["href","innerHTML","class"]))),128))])])])])])):u("",!0)])])]),m.value||g.value?(o(),c("div",ae,[e("div",de,[e("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity",onClick:f}),t[17]||(t[17]=e("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},"​",-1)),e("div",ce,[e("div",me,[e("div",ue,[e("div",xe,[e("h3",ge,a(m.value?"إضافة فئة جديدة":"تعديل الفئة"),1),e("form",{onSubmit:B(w,["prevent"]),class:"space-y-4"},[e("div",null,[t[15]||(t[15]=e("div",{class:"mb-3",style:{"text-align":"right !important"}},[e("label",{for:"modal_name",class:"text-sm font-medium text-gray-700",style:{"text-align":"right !important",display:"block"}}," اسم الفئة ")],-1)),N(e("input",{id:"modal_name","onUpdate:modelValue":t[1]||(t[1]=s=>n(l).name=s),type:"text",class:"w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",style:{"text-align":"right !important",direction:"rtl !important"},required:""},null,512),[[D,n(l).name]]),n(l).errors.name?(o(),c("div",fe,a(n(l).errors.name),1)):u("",!0)])],32)])])]),e("div",pe,[e("button",{type:"submit",onClick:w,disabled:n(l).processing,class:"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-indigo-600 text-base font-medium text-white hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:ml-3 sm:w-auto sm:text-sm disabled:opacity-50"},[n(l).processing?(o(),c("svg",he,t[16]||(t[16]=[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)]))):u("",!0),i(" "+a(m.value?"إضافة الفئة":"تحديث الفئة"),1)],8,ve),e("button",{type:"button",onClick:f,class:"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm"}," إلغاء ")])])])])):u("",!0)]),_:1})],64))}};export{ke as default};
