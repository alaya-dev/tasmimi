import{r as g,T as y,g as v,o,w as p,a,b as t,u as s,Z as _,h,j as b,c as l,d as u,e as m,v as x,t as c,i as k}from"./app-BJSEvLr2.js";import{_ as w}from"./AdminLayoutSidebar-B_xNyK73.js";import{R as V}from"./RichTextEditor-DiIVMbJM.js";import"./DropdownLink-BKuK1C9h.js";import"./useTranslations-CytgtFYN.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const E={class:"bg-white rounded-lg shadow-md p-6",dir:"rtl"},T={key:0,class:"mt-1 text-sm text-red-600"},C={key:0,class:"mt-1 text-sm text-red-600"},B={key:0,class:"mt-1 text-sm text-red-600"},N={class:"flex items-center justify-end space-x-3 space-x-reverse pt-6 border-t border-gray-200"},S=["disabled"],j={key:0},D={key:1},A={__name:"Create",setup(M){const n=g(null),e=y({title:"",content:"",version:"1.0"}),f=()=>{if(n.value&&(e.content=n.value.getCurrentContent()),!e.content||e.content.trim()===""||e.content==="<p></p>"){e.setError("content","محتوى الاتفاقية مطلوب");return}e.post(route("admin.terms-of-service.store"),{onSuccess:()=>{},onError:i=>{console.error("Validation errors:",i)}})};return(i,r)=>(o(),v(w,null,{default:p(()=>[a(s(_),{title:"إضافة اتفاقية الاستخدام"}),t("div",E,[r[7]||(r[7]=t("div",{class:"mb-6"},[t("h1",{class:"text-2xl font-bold text-gray-900 mb-2"},"إضافة اتفاقية الاستخدام"),t("p",{class:"text-gray-600"},"قم بكتابة اتفاقية الاستخدام بالتفصيل مع دعم التنسيق الغني")],-1)),t("form",{onSubmit:h(f,["prevent"]),class:"space-y-6"},[t("div",null,[r[2]||(r[2]=t("label",{for:"title",class:"block text-sm font-medium text-gray-700 mb-2"},[m(" عنوان الاتفاقية "),t("span",{class:"text-red-500"},"*")],-1)),b(t("input",{type:"text",id:"title","onUpdate:modelValue":r[0]||(r[0]=d=>s(e).title=d),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"مثال: اتفاقية استخدام موقع سامقة للتصميم",required:""},null,512),[[x,s(e).title]]),s(e).errors.title?(o(),l("div",T,c(s(e).errors.title),1)):u("",!0)]),t("div",null,[r[3]||(r[3]=t("label",{for:"version",class:"block text-sm font-medium text-gray-700 mb-2"}," رقم الإصدار ",-1)),b(t("input",{type:"text",id:"version","onUpdate:modelValue":r[1]||(r[1]=d=>s(e).version=d),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"مثال: 1.0"},null,512),[[x,s(e).version]]),s(e).errors.version?(o(),l("div",C,c(s(e).errors.version),1)):u("",!0)]),t("div",null,[r[4]||(r[4]=t("label",{class:"block text-sm font-medium text-gray-700 mb-2"},[m(" محتوى الاتفاقية "),t("span",{class:"text-red-500"},"*")],-1)),a(V,{ref_key:"richTextEditor",ref:n,"initial-content":"",placeholder:"اكتب محتوى اتفاقية الاستخدام هنا...",class:"min-h-[400px]"},null,512),s(e).errors.content?(o(),l("div",B,c(s(e).errors.content),1)):u("",!0),r[5]||(r[5]=t("p",{class:"mt-2 text-sm text-gray-500"}," يمكنك استخدام التنسيق الغني مثل النص العريض، المائل، القوائم والعناوين. يدعم النص العربي مع المحاذاة من اليمين لليسار. ",-1))]),t("div",N,[a(s(k),{href:i.route("admin.terms-of-service.index"),class:"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-6 rounded-lg transition duration-200"},{default:p(()=>r[6]||(r[6]=[m(" إلغاء ")])),_:1,__:[6]},8,["href"]),t("button",{type:"submit",disabled:s(e).processing||!s(e).title,class:"bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white font-bold py-2 px-6 rounded-lg transition duration-200 disabled:cursor-not-allowed"},[s(e).processing?(o(),l("span",j,"جاري الحفظ...")):(o(),l("span",D,"حفظ الاتفاقية"))],8,S)])],32)])]),_:1}))}};export{A as default};
